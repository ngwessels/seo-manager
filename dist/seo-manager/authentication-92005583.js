import{_ as t,a as e}from"./index-61b32eb5.js";import r from"react";import{connect as s}from"react-redux";import{f as o}from"./firebase-f83deced.js";import{getAuth as a,onAuthStateChanged as i,signInAnonymously as n}from"firebase/auth";import"@reduxjs/toolkit";import"@mui/material";import"firebase/app";const p=a(o);class c extends r.Component{constructor(r){super(r),t(this,"componentDidMount",(()=>{i(p,(async t=>{t?this.loadUser(t):await n(p)})),p?.currentUser&&this.loadUser(p.currentUser)})),t(this,"loadUser",(async t=>{const r=["owner","admin","editor"];let s=e({},t);if(t){const e=await t.getIdTokenResult(!0);e?.claims?.[this.props?.seoData?.initial?.projectId]&&r.includes(e?.claims?.[this.props?.seoData?.initial?.projectId])?s.authorizedProject=!0:s.authorizedProject=!1}const o={type:"SET_USER",results:JSON.parse(JSON.stringify(s))};this.props.dispatch(o)})),this.state={}}render(){return null}}var d=s((t=>({user:t.user,seoData:t?.seoData})))(c);export{d as default};
