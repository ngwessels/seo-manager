import{_ as s}from"./index-887d2730.js";import e from"react";import{connect as t}from"react-redux";import{f as r}from"./firebase-f83deced.js";import{getAuth as o,onAuthStateChanged as i}from"firebase/auth";import"redux";import"firebase/app";const a=o(r);class n extends e.Component{constructor(e){super(e),s(this,"componentDidMount",(()=>{i(a,(async s=>{this.loadUser(s)})),a?.currentUser&&this.loadUser(a.currentUser)})),s(this,"loadUser",(async s=>{if(console.log("USER:",s),s){const e=await s.getIdTokenResult(!0);console.log("CUSTOM CLAIMS:",e,this.props?.seoData?.initial),e?.claims?.[this.props?.seoData?.initial?.projectId]&&permissionLevels.includes(e?.claims?.[this.props?.seoData?.initial?.projectId])?s.authorizedProject=!0:s.authorizedProject=!1}const e={type:"SET_USER",results:s};this.props.dispatch(e)})),this.state={}}render(){return null}}var p=t((s=>({user:s.user,seoData:s?.seoData})))(n);export{p as default};
