import{_ as e}from"./index-caed8d84.js";import s from"react";import{connect as t}from"react-redux";import{f as r}from"./firebase-f83deced.js";import{getAuth as o,onAuthStateChanged as a}from"firebase/auth";import"redux";import"firebase/app";const i=o(r);class p extends s.Component{constructor(s){super(s),e(this,"componentDidMount",(()=>{a(i,(async e=>{this.loadUser(e)})),i?.currentUser&&this.loadUser(i.currentUser)})),e(this,"loadUser",(async e=>{if(console.log("USER:",e),e){const s=await e.getIdTokenResult(!0);console.log("CUSTOM CLAIMS:",s,this.props?.seoData?.initial?.projectId),s?.claims?.[this.props?.seoData?.initial?.projectId]&&permissionLevels.includes(s?.claims?.[this.props?.seoData?.initial?.projectId])?e.authorizedProject=!0:e.authorizedProject=!1}const s={type:"SET_USER",results:e};this.props.dispatch(s)})),this.state={}}render(){return null}}var c=t((e=>({user:e.user,seoData:e?.seoData})))(p);export{c as default};
