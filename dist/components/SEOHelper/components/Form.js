import e from"react";import"../styles.css.js";import t from"../../../node_modules/@mui/icons-material/Close.js";import{firebase as a}from"../../../firebase.js";import{getStorage as l}from"../../../node_modules/@firebase/storage/dist/index.esm2017.js";import i from"./PhotosViewer.js";import d from"../../../node_modules/@mui/material/styles/styled.js";import o from"../../../node_modules/@mui/material/Dialog/Dialog.js";import n from"../../../node_modules/@mui/material/DialogTitle/DialogTitle.js";import r from"../../../node_modules/@mui/material/IconButton/IconButton.js";import s from"../../../node_modules/@mui/material/DialogContent/DialogContent.js";import m from"../../../node_modules/@mui/material/Grid/Grid.js";import u from"../../../node_modules/@mui/material/FormControl/FormControl.js";import p from"../../../node_modules/@mui/material/InputLabel/InputLabel.js";import v from"../../../node_modules/@mui/material/Select/Select.js";import c from"../../../node_modules/@mui/material/MenuItem/MenuItem.js";import h from"../../../node_modules/@mui/material/TextField/TextField.js";import g from"../../../node_modules/@mui/lab/LocalizationProvider/LocalizationProvider.js";import x from"../../../node_modules/@date-io/date-fns/build/index.esm.js";import b from"../../../node_modules/@mui/lab/DateTimePicker/DateTimePicker.js";import C from"../../../node_modules/@mui/material/DialogActions/DialogActions.js";import f from"../../../node_modules/@mui/material/Button/Button.js";import y from"../../../node_modules/@mui/lab/LoadingButton/LoadingButton.js";l(a);const E=d(o)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)},"& .MuiPaper-root":{margin:"0px",width:"90vw",maxWidth:"900px"}})));class j extends e.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.componentDidUpdate=e=>{},this.delete=()=>{this.props.onDelete(this.props.idx),this.props.onClose()},this.state={data:e.event}}render(){var a,l;return e.createElement(e.Fragment,null,e.createElement("form",{onSubmit:()=>{this.props.onChangeComplete(this.state.data,this.props.idx),this.props.onClose()}},e.createElement(E,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},e.createElement(n,{sx:{m:0,p:2}},this.props.title,e.createElement(r,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},e.createElement(t,null))),e.createElement(s,null,Object.keys(null===(l=null===(a=this.props)||void 0===a?void 0:a.model)||void 0===l?void 0:l.structure).map((t=>{var a,l,d,o,n,r,s,C,f,y;const E=null===(l=null===(a=this.props)||void 0===a?void 0:a.model)||void 0===l?void 0:l.structure[t],j=this.props.model[E],w=this.state.data[j.index];return(null==j?void 0:j.value)||!0===(null==j?void 0:j.hidden)||(null==j?void 0:j.visibleWhen)&&this.state.data[null===(d=null==j?void 0:j.visibleWhen)||void 0===d?void 0:d.index]!==(null===(o=null==j?void 0:j.visibleWhen)||void 0===o?void 0:o.value)||(null==j?void 0:j.hiddenWhen)&&this.state.data[null===(n=null==j?void 0:j.hiddenWhen)||void 0===n?void 0:n.index]===(null===(r=null==j?void 0:j.hiddenWhen)||void 0===r?void 0:r.value)?null:"select"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(u,{variant:"standard",sx:{minWidth:"100%"},required:(null==j?void 0:j.required)||!1},e.createElement(p,{id:`Label-${t}`},j.label),e.createElement(v,{labelId:`Label-${t}`,id:`Field-${t}`,value:w,onChange:e=>{let t=this.state.data;t[j.index]=e.target.value,this.setState({data:t})},label:j.label,required:(null==j?void 0:j.required)||!1},e.createElement(c,null,"Select Option ..."),Object.keys(j.selection).map((t=>{const{title:a,data:l}=j.selection[t];return e.createElement(c,{value:l,key:`${j.index}-${t}`},a)}))))):"input"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(h,{id:`Field-${t}`,label:j.label,variant:"standard",placeholder:"",onChange:e=>{let t=this.state.data;t[j.index]=e.target.value,this.setState({data:t})},value:w,style:{width:"100%"},required:(null==j?void 0:j.required)||!1})):"date-time"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(g,{dateAdapter:x},e.createElement(b,{renderInput:t=>e.createElement(h,Object.assign({},t,{style:{width:"100%"}})),label:null==j?void 0:j.label,value:w,onChange:e=>{let t=this.state.data;t[j.index]=e,this.setState({data:t})}}))):"textfield"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(h,{id:`Field-${t}`,label:j.label,variant:"standard",placeholder:"",onChange:e=>{let t=this.state.data;t[j.index]=e.target.value,this.setState({data:t})},value:w,style:{width:"100%"},multiline:!0,required:(null==j?void 0:j.required)||!1,helperText:(null==j?void 0:j.maxChar)?`${null==w?void 0:w.length} of ${j.maxChar}`:""})):"location"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(h,{id:`Field-${t}-location-name`,label:"Location Name",variant:"standard",placeholder:"",onChange:e=>{var t;let a=this.state.data;(null===(t=a[j.index])||void 0===t?void 0:t.name)||(a[j.index]=j.template),a[j.index].name=e.target.value,this.setState({data:a})},value:(null==w?void 0:w.name)||"",style:{width:"100%"},required:(null==j?void 0:j.required)||!1}),e.createElement(h,{id:`Field-${t}-location-address`,label:"Street Address",variant:"standard",placeholder:"",onChange:e=>{var t,a;let l=this.state.data;(null===(a=null===(t=l[j.index])||void 0===t?void 0:t.address)||void 0===a?void 0:a.streetAddress)||(l[j.index]=j.template),l[j.index].address.streetAddress=e.target.value,this.setState({data:l})},value:(null===(s=null==w?void 0:w.address)||void 0===s?void 0:s.streetAddress)||"",style:{width:"100%"},required:(null==j?void 0:j.required)||!1}),e.createElement(m,{item:!0,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},e.createElement(h,{id:`Field-${t}-location-city`,label:"City",variant:"standard",placeholder:"",onChange:e=>{var t,a;let l=this.state.data;(null===(a=null===(t=l[j.index])||void 0===t?void 0:t.address)||void 0===a?void 0:a.addressLocality)||(l[j.index]=j.template),l[j.index].address.addressLocality=e.target.value,this.setState({data:l})},value:(null===(C=null==w?void 0:w.address)||void 0===C?void 0:C.addressLocality)||"",required:(null==j?void 0:j.required)||!1,style:{width:"48%"}}),e.createElement(h,{id:`Field-${t}-location-state`,label:"State",variant:"standard",placeholder:"",onChange:e=>{var t,a;let l=this.state.data;(null===(a=null===(t=l[j.index])||void 0===t?void 0:t.address)||void 0===a?void 0:a.addressRegion)||(l[j.index]=j.template),l[j.index].address.addressRegion=e.target.value,this.setState({data:l})},value:(null===(f=null==w?void 0:w.address)||void 0===f?void 0:f.addressRegion)||"",required:(null==j?void 0:j.required)||!1,style:{width:"48%"}})),e.createElement(m,{item:!0,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},e.createElement(h,{id:`Field-${t}-location-postalCode`,label:"Zip code",variant:"standard",placeholder:"",onChange:e=>{var t,a;let l=this.state.data;(null===(a=null===(t=l[j.index])||void 0===t?void 0:t.address)||void 0===a?void 0:a.postalCode)||(l[j.index]=j.template),l[j.index].address.postalCode=e.target.value,this.setState({data:l})},value:(null===(y=null==w?void 0:w.address)||void 0===y?void 0:y.postalCode)||"",required:(null==j?void 0:j.required)||!1,style:{width:"48%"}}),e.createElement(h,{id:`Field-${t}-location-addressCountry`,label:"Country",variant:"standard",placeholder:"",onChange:e=>{var t,a;let l=this.state.data;(null===(a=null===(t=l[j.index])||void 0===t?void 0:t.address)||void 0===a?void 0:a.addressCountry)||(l[j.index]=j.template),l[j.index].address.addressCountry=e.target.value,this.setState({data:l})},value:"US",required:(null==j?void 0:j.required)||!1,style:{width:"48%"}}))):"images"===j.type?e.createElement(m,{item:!0,mb:2},e.createElement(i,{files:w,onChangeComplete:e=>{let t=this.state.data;t[j.index]=e,this.setState({data:t})},multiple:!0,accept:"image/png, image/jpeg, image/jpg",data:this.props.data})):null}))),e.createElement(C,null,e.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},e.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},e.createElement(f,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button"},"Close"),this.props.deleteButton&&e.createElement(f,{variant:"text",id:"delete-file-manager",onClick:()=>this.delete(),type:"button"},"Delete"),e.createElement(y,{variant:"text",type:"submit",loading:!1},"Complete")))))))}}export default j;
//# sourceMappingURL=Form.js.map
