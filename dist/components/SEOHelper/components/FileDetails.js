import{__awaiter as e}from"../../../node_modules/tslib/tslib.es6.js";import t from"react";import"../styles.css.js";import i from"../../../node_modules/@mui/icons-material/Close.js";import{firebase as l}from"../../../firebase.js";import{getStorage as o,ref as a,deleteObject as s}from"../../../node_modules/@firebase/storage/dist/index.esm2017.js";import n from"../../../node_modules/@mui/material/styles/styled.js";import r from"../../../node_modules/@mui/material/Dialog/Dialog.js";import d from"../../../node_modules/@mui/material/DialogTitle/DialogTitle.js";import m from"../../../node_modules/@mui/material/IconButton/IconButton.js";import p from"../../../node_modules/@mui/material/DialogContent/DialogContent.js";import c from"../../../node_modules/@mui/material/Grid/Grid.js";import h from"../../../node_modules/@mui/material/TextField/TextField.js";import u from"../../../node_modules/@mui/material/DialogActions/DialogActions.js";import f from"../../../node_modules/@mui/material/Button/Button.js";import g from"../../../node_modules/@mui/lab/LoadingButton/LoadingButton.js";const b=o(l),v=n(r)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)},"& .MuiPaper-root":{margin:"0px",width:"90vw",maxWidth:"900px"}})));class y extends t.Component{constructor(t){super(t),this.componentDidMount=()=>{},this.componentDidUpdate=e=>{},this.deleteFile=()=>e(this,void 0,void 0,(function*(){this.setState({deleteLoading:!0});if("yes"===prompt("Are you sure you want to delete this file? (yes or no)")){const e=a(b,this.props.file.location);yield s(e),this.props.onDelete(this.props.file,this.props.idx),this.setState({deleteLoading:!1}),this.props.onClose()}else alert("This file has not been deleted");this.setState({deleteLoading:!1})})),this.state={deleteLoading:!1}}render(){var e,l,o,a;return t.createElement(t.Fragment,null,t.createElement(v,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},t.createElement(d,{sx:{m:0,p:2}},"File Details",t.createElement(m,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},t.createElement(i,null))),t.createElement(p,null,t.createElement(c,{item:!0,xs:12,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},this.props.isImage&&t.createElement(c,{className:"file-details-section",mt:2},t.createElement("img",{src:this.props.file.url,width:(null===(l=null===(e=this.props.file)||void 0===e?void 0:e.dimensions)||void 0===l?void 0:l.width)||"100%",height:(null===(a=null===(o=this.props.file)||void 0===o?void 0:o.dimensions)||void 0===a?void 0:a.height)||"auto",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",zIndex:0}})),t.createElement(c,{className:"file-details-section",mt:2},t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"fileId",label:"File Id",variant:"standard",placeholder:"",value:this.props.file.fileId,style:{width:"100%"},disabled:!0})),t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"fileName",label:"File Name",variant:"standard",placeholder:"",value:this.props.file.fileName,style:{width:"100%"},disabled:!0})),t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"contentType",label:"Content Type",variant:"standard",placeholder:"",value:this.props.file.contentType,style:{width:"100%"},disabled:!0})),t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"fileSize",label:"File Size",variant:"standard",placeholder:"",value:`${this.props.file.size} bytes`,style:{width:"100%"},disabled:!0})),t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"url",label:"File Url",variant:"standard",placeholder:"",value:this.props.file.url,style:{width:"100%"},disabled:!0})),this.props.file.dimensions&&t.createElement(t.Fragment,null,t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"fileWidth",label:"Image Width",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.width}px`,style:{width:"100%"},disabled:!0})),t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"fileHeight",label:"Image Height",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.height}px`,style:{width:"100%"},disabled:!0}))),this.props.file.timeStamp&&t.createElement(c,{item:!0,mb:1},t.createElement(h,{id:"date",label:"File Uploaded on",variant:"standard",placeholder:"",value:new Date(this.props.file.timeStamp).toString(),style:{width:"100%"},disabled:!0}))))),t.createElement(u,null,t.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},t.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},t.createElement(f,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button"},"Close"),t.createElement(g,{variant:"text",onClick:this.deleteFile,type:"button",loading:this.state.deleteLoading},"Delete"))))))}}export default y;
//# sourceMappingURL=FileDetails.js.map
