"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("firebase/app"),a=require("firebase/analytics"),n=require("axios");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,l=r(e),i=r(n);function s(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const c="Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?{apiKey:"AIzaSyDPjpRmobrdUtIY3hIaNoyox7alxYJH_B8",authDomain:"seo-manager-live.firebaseapp.com",projectId:"seo-manager-live",storageBucket:"seo-manager-live.appspot.com",messagingSenderId:"510256510596",appId:"1:510256510596:web:eae1ccc42cb103b8a7f4d1",measurementId:"G-RED1HCM49W"}:{apiKey:"AIzaSyBD6KEJFm2SVguRDEiqufIlRo5HuHu0IZg",authDomain:"seo-manager-test.firebaseapp.com",projectId:"seo-manager-test",storageBucket:"seo-manager-test.appspot.com",messagingSenderId:"682714204028",appId:"1:682714204028:web:a782b9da96ce811ee606f9",measurementId:"G-PYZDK47B2M"};let d;d=(null===(o=t.getApps())||void 0===o?void 0:o.findIndex((e=>"seo-manager"===(null==e?void 0:e.name))))<0?t.initializeApp(c,"seo-manager"):t.getApp("seo-manager");var p=d;class u extends l.default.Component{constructor(e){super(e),s(this,"componentDidMount",(()=>{console.log("SEOHelperLite Mounted:",Date.now()),this.setState({loading:!1,loaded:!0}),a.getAnalytics(p)})),s(this,"checkComponentErrors",(e=>{if(console.log("Object:",e),!e.head)throw"Please add this tag to your SEOHelper component 'head={(data) => (<Head>{data}</Head>)}'. If your not using NextJS replace <Head>{data}</Head> with <Helmet>{data}</Helmet> from npm react-helmet."})),s(this,"formatHead",(e=>e&&!1!==e.valid?l.default.createElement(l.default.Fragment,null,l.default.createElement("meta",{property:"og:locale",content:"en_US"}),l.default.createElement("meta",{property:"og:type",content:"website"}),l.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.default.createElement("meta",{name:"robots",content:`${e?.page?.index||"index"}, ${e?.page?.follow||"follow"}`}),e?.global?.themeColor&&l.default.createElement("meta",{name:"theme-color",content:e?.global?.themeColor}),e?.global?.favicon?.url&&l.default.createElement("link",{rel:"icon",type:"image/x-icon",href:e.global.favicon.url,sizes:"192x192"}),e?.global?.canonicalURL&&e?.page?.path&&l.default.createElement("link",{href:`${e.global.canonicalURL}${e.page.path}`,rel:"canonical"}),e?.global?.canonicalURL&&e?.page?.path&&l.default.createElement("meta",{property:"og:url",content:`${e.global.canonicalURL}${e.page.path}`}),e?.page?.image?.url&&l.default.createElement("meta",{property:"og:image",content:e.page.image.url}),e?.page?.image?.url&&l.default.createElement("meta",{name:"twitter:image",content:e.page.image.url}),l.default.createElement("title",null,e?.page?.title||e?.global?.defaultTitle||""),l.default.createElement("meta",{property:"og:title",content:e?.page?.title||e?.global?.defaultTitle||""}),l.default.createElement("meta",{name:"twitter:title",content:e?.page?.title||e?.global?.defaultTitle||""}),l.default.createElement("meta",{name:"description",content:e?.page?.description||e?.global?.defaultDescription||"",key:"description"}),l.default.createElement("meta",{property:"og:description",content:e?.page?.description||e?.global?.defaultDescription||""}),l.default.createElement("meta",{name:"twitter:description",content:e?.page?.description||e?.global?.defaultDescription||""}),e?.page?.keywords&&l.default.createElement("meta",{name:"keywords",content:e.page.keywords}),e?.page?.ldJson&&l.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e.page.ldJson}}),e?.page?.events&&l.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e.page.events)}}),this.props.children):null)),this.checkComponentErrors(e),this.state={data:e.data,head:e.head(this.formatHead(e.data)),loading:!0,loaded:!1}}render(){return l.default.createElement(l.default.Fragment,null,!1===this.state.loaded?l.default.createElement(l.default.Fragment,null,this.state.head):l.default.createElement(l.default.Fragment,null,this.props.head(this.formatHead(this.state.data))))}}function m(e,t,a,n){return new(a||(a=Promise))((function(r,o){function l(e){try{s(n.next(e))}catch(e){o(e)}}function i(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((n=n.apply(e,t||[])).next())}))}const g="v1",f=(e,t="put",a,n,r)=>new Promise(((o,l)=>m(void 0,void 0,void 0,(function*(){var s,c,d;try{const d=(()=>{let e={};return process.env.SEO_MANAGER_MODULE_SECRETKEY&&(e.secretKey=process.env.SEO_MANAGER_MODULE_SECRETKEY),process.env.SEO_MANAGER_MODULE_PROJECTKEY&&(e.projectKey=process.env.SEO_MANAGER_MODULE_PROJECTKEY),process.env.SEO_MANAGER_MODULE_PROJECTID&&(e.projectId=process.env.SEO_MANAGER_MODULE_PROJECTID),e})();if(!(null==d?void 0:d.projectId))return l({results:!1,error:"Project Id is required"});const p=E(e),u=n||("Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://seomanager.dev/api/${g}/${p}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3001/api/${g}/${p}`:`https://testing.seomanager.dev/api/${g}/${p}`);let m={X_ProjectId:null==d?void 0:d.projectId,X_ProjectKey:(null==d?void 0:d.projectKey)||""};r&&(m=Object.assign(Object.assign({},m),r));const f=yield i.default(u,{method:t,data:a||{},headers:m});return(null===(s=null==f?void 0:f.data)||void 0===s?void 0:s.results)?o({results:null===(c=null==f?void 0:f.data)||void 0===c?void 0:c.results}):o(null==f?void 0:f.data)}catch(e){return o({results:!1,data:null===(d=null==e?void 0:e.response)||void 0===d?void 0:d.data})}})))),E=e=>{let t=e;return"/"===t[0]&&(t=t.replace("/","")),t};class v extends l.default.Component{static async getInitialProps({res:e,req:t}){e.setHeader("Content-Type","text/xml");try{const{results:a}=await f("/sitemap/","put",{path:t.url,headers:t.headers});e.write(a)}catch(e){console.error(e.error)}e.end()}}class h extends e.Component{static async getInitialProps({res:e,req:t}){e.setHeader("Content-Type","text/plain");try{const{results:a}=await f("/robots/","put",{headers:t.headers});e.write(a)}catch(e){console.error(e.error)}e.end()}}exports.RobotsHelper=h,exports.SEOHelperLite=u,exports.SitemapHelper=v;
//# sourceMappingURL=index.cjs.map
