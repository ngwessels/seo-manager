"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("axios");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=r(e),o=r(t);function n(e,t,r,s){return new(r||(r=Promise))((function(o,n){function a(e){try{i(s.next(e))}catch(e){n(e)}}function c(e){try{i(s.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}i((s=s.apply(e,t||[])).next())}))}const a="v1",c=(e,t="put",r,s,c)=>new Promise(((l,d)=>n(void 0,void 0,void 0,(function*(){var n,u,p;try{const p=(()=>{let e={};return process.env.SEO_MANAGER_MODULE_SECRETKEY&&(e.secretKey=process.env.SEO_MANAGER_MODULE_SECRETKEY),process.env.SEO_MANAGER_MODULE_PROJECTKEY&&(e.projectKey=process.env.SEO_MANAGER_MODULE_PROJECTKEY),process.env.SEO_MANAGER_MODULE_PROJECTID&&(e.projectId=process.env.SEO_MANAGER_MODULE_PROJECTID),e})();if(!(null==p?void 0:p.projectId))return d({results:!1,error:"Project Id is required"});const E=i(e),v=s||("Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://www.seomanager.dev/api/${a}/${E}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3001/api/${a}/${E}`:`https://testing.seomanager.dev/api/${a}/${E}`);let _={X_ProjectId:null==p?void 0:p.projectId,X_ProjectKey:(null==p?void 0:p.projectKey)||""};c&&(_=Object.assign(Object.assign({},_),c));const O=yield o.default(v,{method:t,data:r||{},headers:_});return(null===(n=null==O?void 0:O.data)||void 0===n?void 0:n.results)?l({results:null===(u=null==O?void 0:O.data)||void 0===u?void 0:u.results}):l(null==O?void 0:O.data)}catch(e){return l({results:!1,data:null===(p=null==e?void 0:e.response)||void 0===p?void 0:p.data})}})))),i=e=>{let t=e;return"/"===t[0]&&(t=t.replace("/","")),t};class l extends s.default.Component{static async getInitialProps({res:e,req:t}){e.setHeader("Content-Type","text/xml");try{const{results:r}=await c("/sitemap/","put",{path:t.url,headers:t?.headers||{}});e.write(r)}catch(e){console.error(e.error)}e.end()}}class d extends e.Component{static async getInitialProps({res:e,req:t}){e.setHeader("Content-Type","text/plain");try{const{results:r}=await c("/robots/","put",{headers:t?.headers||{}});e.write(r)}catch(e){console.error(e.error)}e.end()}}exports.RobotsHelper=d,exports.SitemapHelper=l;
//# sourceMappingURL=index.cjs.map
