"use strict";var e=require("react"),t=require("@mui/material"),a=require("@mui/material/styles"),n=require("@mui/icons-material/Close"),r=require("firebase/app"),i=require("firebase/analytics"),l=require("firebase/auth"),o=require("@mui/icons-material/ArrowBack"),s=require("@mui/icons-material/ArrowForward"),d=require("@mui/material/LinearProgress"),c=require("@mui/lab/LoadingButton"),p=require("firebase/storage"),u=require("@mui/icons-material/InfoOutlined");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=f(e),h=f(n),g=f(o),y=f(s),b=f(d),v=f(c),E=f(u);function x(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w.apply(this,arguments)}var C,I={exports:{}},S={exports:{}},T={};var O,N,D,j,k,P,A,M,_,$,F,L,R,U,z={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function G(){return N||(N=1,function(e){"production"===process.env.NODE_ENV?e.exports=function(){if(C)return T;C=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,u=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var u=e.$$typeof;switch(u){case t:switch(e=e.type){case s:case d:case n:case i:case r:case p:return e;default:switch(e=e&&e.$$typeof){case o:case c:case m:case f:case l:return e;default:return u}}case a:return u}}}function E(e){return v(e)===d}return T.AsyncMode=s,T.ConcurrentMode=d,T.ContextConsumer=o,T.ContextProvider=l,T.Element=t,T.ForwardRef=c,T.Fragment=n,T.Lazy=m,T.Memo=f,T.Portal=a,T.Profiler=i,T.StrictMode=r,T.Suspense=p,T.isAsyncMode=function(e){return E(e)||v(e)===s},T.isConcurrentMode=E,T.isContextConsumer=function(e){return v(e)===o},T.isContextProvider=function(e){return v(e)===l},T.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},T.isForwardRef=function(e){return v(e)===c},T.isFragment=function(e){return v(e)===n},T.isLazy=function(e){return v(e)===m},T.isMemo=function(e){return v(e)===f},T.isPortal=function(e){return v(e)===a},T.isProfiler=function(e){return v(e)===i},T.isStrictMode=function(e){return v(e)===r},T.isSuspense=function(e){return v(e)===p},T.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===d||e===i||e===r||e===p||e===u||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===h)},T.typeOf=v,T}():e.exports=(O||(O=1,"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,u=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var u=e.$$typeof;switch(u){case t:var h=e.type;switch(h){case s:case d:case n:case i:case r:case p:return h;default:var g=h&&h.$$typeof;switch(g){case o:case c:case m:case f:case l:return g;default:return u}}case a:return u}}}var E=s,x=d,w=o,C=l,I=t,S=c,T=n,O=m,N=f,D=a,j=i,k=r,P=p,A=!1;function M(e){return v(e)===d}z.AsyncMode=E,z.ConcurrentMode=x,z.ContextConsumer=w,z.ContextProvider=C,z.Element=I,z.ForwardRef=S,z.Fragment=T,z.Lazy=O,z.Memo=N,z.Portal=D,z.Profiler=j,z.StrictMode=k,z.Suspense=P,z.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||v(e)===s},z.isConcurrentMode=M,z.isContextConsumer=function(e){return v(e)===o},z.isContextProvider=function(e){return v(e)===l},z.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},z.isForwardRef=function(e){return v(e)===c},z.isFragment=function(e){return v(e)===n},z.isLazy=function(e){return v(e)===m},z.isMemo=function(e){return v(e)===f},z.isPortal=function(e){return v(e)===a},z.isProfiler=function(e){return v(e)===i},z.isStrictMode=function(e){return v(e)===r},z.isSuspense=function(e){return v(e)===p},z.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===d||e===i||e===r||e===p||e===u||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===h)},z.typeOf=v}()),z)}(S)),S.exports}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function q(){if(P)return k;P=1;return k="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function B(){return M?A:(M=1,A=Function.call.bind(Object.prototype.hasOwnProperty))}if("production"!==process.env.NODE_ENV){var V=G();I.exports=function(){if(L)return F;L=1;var e=G(),t=function(){if(j)return D;j=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}return D=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(r,i){for(var l,o,s=n(r),d=1;d<arguments.length;d++){for(var c in l=Object(arguments[d]))t.call(l,c)&&(s[c]=l[c]);if(e){o=e(l);for(var p=0;p<o.length;p++)a.call(l,o[p])&&(s[o[p]]=l[o[p]])}}return s},D}(),a=q(),n=B(),r=function(){if($)return _;$=1;var e=function(){};if("production"!==process.env.NODE_ENV){var t=q(),a={},n=B();e=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function r(r,i,l,o,s){if("production"!==process.env.NODE_ENV)for(var d in r)if(n(r,d)){var c;try{if("function"!=typeof r[d]){var p=Error((o||"React class")+": "+l+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw p.name="Invariant Violation",p}c=r[d](i,d,o,l,null,t)}catch(e){c=e}if(!c||c instanceof Error||e((o||"React class")+": type specification of "+l+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var u=s?s():"";e("Failed "+l+" type: "+c.message+(null!=u?u:""))}}}return r.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(a={})},_=r}(),i=function(){};function l(){return null}return"production"!==process.env.NODE_ENV&&(i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),F=function(o,s){var d="function"==typeof Symbol&&Symbol.iterator,c="<<anonymous>>",p={array:h("array"),bigint:h("bigint"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:m(l),arrayOf:function(e){return m((function(t,n,r,i,l){if("function"!=typeof e)return new f("Property `"+l+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=t[n];if(!Array.isArray(o))return new f("Invalid "+i+" `"+l+"` of type `"+b(o)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<o.length;s++){var d=e(o,s,r,i,l+"["+s+"]",a);if(d instanceof Error)return d}return null}))},element:m((function(e,t,a,n,r){var i=e[t];return o(i)?null:new f("Invalid "+n+" `"+r+"` of type `"+b(i)+"` supplied to `"+a+"`, expected a single ReactElement.")})),elementType:m((function(t,a,n,r,i){var l=t[a];return e.isValidElementType(l)?null:new f("Invalid "+r+" `"+i+"` of type `"+b(l)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return m((function(t,a,n,r,i){if(!(t[a]instanceof e)){var l=e.name||c;return new f("Invalid "+r+" `"+i+"` of type `"+((o=t[a]).constructor&&o.constructor.name?o.constructor.name:c)+"` supplied to `"+n+"`, expected instance of `"+l+"`.")}var o;return null}))},node:m((function(e,t,a,n,r){return y(e[t])?null:new f("Invalid "+n+" `"+r+"` supplied to `"+a+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,r,i,l,o){if("function"!=typeof e)return new f("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=t[r],d=b(s);if("object"!==d)return new f("Invalid "+l+" `"+o+"` of type `"+d+"` supplied to `"+i+"`, expected an object.");for(var c in s)if(n(s,c)){var p=e(s,c,i,l,o+"."+c,a);if(p instanceof Error)return p}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&i(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),l;function t(t,a,n,r,i){for(var l=t[a],o=0;o<e.length;o++)if(u(l,e[o]))return null;var s=JSON.stringify(e,(function(e,t){return"symbol"===v(t)?String(t):t}));return new f("Invalid "+r+" `"+i+"` of value `"+String(l)+"` supplied to `"+n+"`, expected one of "+s+".")}return m(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&i("Invalid argument supplied to oneOfType, expected an instance of array."),l;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+E(r)+" at index "+t+"."),l}return m((function(t,r,i,l,o){for(var s=[],d=0;d<e.length;d++){var c=(0,e[d])(t,r,i,l,o,a);if(null==c)return null;c.data&&n(c.data,"expectedType")&&s.push(c.data.expectedType)}return new f("Invalid "+l+" `"+o+"` supplied to `"+i+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")}))},shape:function(e){return m((function(t,n,r,i,l){var o=t[n],s=b(o);if("object"!==s)return new f("Invalid "+i+" `"+l+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var d in e){var c=e[d];if("function"!=typeof c)return g(r,i,l,d,v(c));var p=c(o,d,r,i,l+"."+d,a);if(p)return p}return null}))},exact:function(e){return m((function(r,i,l,o,s){var d=r[i],c=b(d);if("object"!==c)return new f("Invalid "+o+" `"+s+"` of type `"+c+"` supplied to `"+l+"`, expected `object`.");var p=t({},r[i],e);for(var u in p){var m=e[u];if(n(e,u)&&"function"!=typeof m)return g(l,o,s,u,v(m));if(!m)return new f("Invalid "+o+" `"+s+"` key `"+u+"` supplied to `"+l+"`.\nBad object: "+JSON.stringify(r[i],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=m(d,u,l,o,s+"."+u,a);if(h)return h}return null}))}};function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function m(e){if("production"!==process.env.NODE_ENV)var t={},n=0;function r(r,l,o,d,p,u,m){if(d=d||c,u=u||o,m!==a){if(s){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+o;!t[g]&&n<3&&(i("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),t[g]=!0,n++)}}return null==l[o]?r?null===l[o]?new f("The "+p+" `"+u+"` is marked as required in `"+d+"`, but its value is `null`."):new f("The "+p+" `"+u+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(l,o,d,p,u)}var l=r.bind(null,!1);return l.isRequired=r.bind(null,!0),l}function h(e){return m((function(t,a,n,r,i,l){var o=t[a];return b(o)!==e?new f("Invalid "+r+" `"+i+"` of type `"+v(o)+"` supplied to `"+n+"`, expected `"+e+"`.",{expectedType:e}):null}))}function g(e,t,a,n,r){return new f((e||"React class")+": "+t+" type `"+a+"."+n+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+r+"`.")}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||o(e))return!0;var t=function(e){var t=e&&(d&&e[d]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(!t)return!1;var a,n=t.call(e);if(t!==e.entries){for(;!(a=n.next()).done;)if(!y(a.value))return!1}else for(;!(a=n.next()).done;){var r=a.value;if(r&&!y(r[1]))return!1}return!0;default:return!1}}function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,p.checkPropTypes=r,p.resetWarningCache=r.resetWarningCache,p.PropTypes=p,p},F}()(V.isElement,!0)}else I.exports=function(){if(U)return R;U=1;var e=q();function t(){}function a(){}return a.resetWarningCache=t,R=function(){function n(t,a,n,r,i,l){if(l!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return n}n.isRequired=n;var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:t};return i.PropTypes=i,i}}()();const W=()=>{let e={},t=!1;return process.env.SEO_MANAGER_MODULE_SECRETKEY&&(e.secretKey=process.env.SEO_MANAGER_MODULE_SECRETKEY,t=!0),process.env.SEO_MANAGER_MODULE_PROJECTKEY&&(e.projectKey=process.env.SEO_MANAGER_MODULE_PROJECTKEY,t=!0),process.env.SEO_MANAGER_MODULE_PROJECTID&&(e.projectId=process.env.SEO_MANAGER_MODULE_PROJECTID,t=!0),!!t&&e};!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".file-upload .file-input{cursor:pointer;height:140px;left:0;opacity:0;outline:none;position:absolute;top:0;width:100%}.file-upload .overlay{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.icon{margin-bottom:1rem;width:75px}@media (max-width:600px){.icon{width:50px}}.delete-btn-container{align-items:flex-end;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.delete-btn{background:#2d3039;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.2);cursor:pointer;height:50px;margin:20px auto;overflow:hidden;text-align:center;transition:.4s;width:200px;z-index:20}.delete-btnText{color:#fff;transition:.3s}.delete-btn:hover .delete-hoverBtn{left:0}.delete-btn:hover a{margin-left:65px}.delete-hoverBtn{background:#ed5565;height:100px;left:-250px;margin-top:-100px;padding-top:2px;position:relative;transition:.3s;width:200px}.delete-hoverText{color:#fafafa;margin-right:0;margin-top:55px;text-align:center}.delete-hoverBtn:active{background-color:#da4453;box-shadow:0 5px 6px rgba(0,0,0,.3)}.fileViewer{align-items:flex-start;border-bottom:1px solid #e3e3e3;border-top:1px solid #e3e3e3;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;max-height:500;padding-bottom:20;padding-top:20}.image-container{border-radius:2;height:150px;margin:10px;width:150px}.file-details-section{width:45%}@media only screen and (max-width:600px){.fileViewer{align-items:center;border-bottom:1px solid #e3e3e3;border-top:1px solid #e3e3e3;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;max-height:500;padding-bottom:20;padding-top:20}.image-container{height:120px;width:120px}.file-details-section{width:100%}}.carousel-frame-design{background-color:#fff;border:1px dashed #22211f;box-shadow:1px 2px 13px 1px rgba(34,33,31,.1);-webkit-box-shadow:1px 2px 13px 1px rgba(34,33,31,.1);-moz-box-shadow:1px 2px 13px 1px rgba(34,33,31,.1);cursor:pointer;height:min(calc(90vh - 10px),350px);overflow:hidden;position:relative;transition:box-shadow .3s ease-in-out;width:100%}.carousel-frame-design:hover{box-shadow:1px 2px 13px 1px rgba(34,33,31,.3);-webkit-box-shadow:1px 2px 13px 1px rgba(34,33,31,.3);-moz-box-shadow:1px 2px 13px 1px rgba(34,33,31,0)}.carousel-slide{display:flex;height:100%;width:100%}.carousel-slide img{min-width:100%;object-fit:cover}.carousel-prev{left:30px}.carousel-next,.carousel-prev{color:hsla(0,0%,100%,.8);cursor:pointer;font-size:30px;margin-top:-15px;position:absolute;top:50%;z-index:10}.carousel-next{right:30px}.carousel-addPhotos{background-color:transparent;box-shadow:none;cursor:pointer;margin-top:-15px;position:absolute;right:30px;top:10%;z-index:10}.carousel-dots{bottom:5%;display:flex;justify-content:space-between;left:0;list-style:none;margin:0 auto;position:absolute;right:0;width:max(100px,15%)}.carousel-dots li{border:1px solid hsla(0,0%,100%,.8);border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.5);cursor:pointer;height:8px;width:8px}.carousel-dots .active-dot{background-color:hsla(0,0%,100%,.8)}.event-box{align-items:center;-webkit-box-shadow:5px 5px 15px 5px rgba(0,0,0,.27);box-shadow:5px 5px 15px 5px rgba(0,0,0,.27);cursor:pointer;display:flex;height:50px;justify-content:center;min-width:250px;transition:box-shadow .4s ease-in;width:48%}.event-box:hover{-webkit-box-shadow:5px 5px 15px 5px rgba(0,0,0,.55);box-shadow:5px 5px 15px 5px rgba(0,0,0,.55)}");const H="Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?{apiKey:"AIzaSyDPjpRmobrdUtIY3hIaNoyox7alxYJH_B8",authDomain:"seo-manager-live.firebaseapp.com",projectId:"seo-manager-live",storageBucket:"seo-manager-live.appspot.com",messagingSenderId:"510256510596",appId:"1:510256510596:web:eae1ccc42cb103b8a7f4d1",measurementId:"G-RED1HCM49W"}:{apiKey:"AIzaSyBD6KEJFm2SVguRDEiqufIlRo5HuHu0IZg",authDomain:"seo-manager-test.firebaseapp.com",projectId:"seo-manager-test",storageBucket:"seo-manager-test.appspot.com",messagingSenderId:"682714204028",appId:"1:682714204028:web:a782b9da96ce811ee606f9",measurementId:"G-PYZDK47B2M"};let J;const X=r.getApps()?.findIndex((e=>{if("seo-manager"===e?.name)return!0}));J=X<0?r.initializeApp(H,"seo-manager"):r.getApp("seo-manager");var K=J;const Y=require("axios"),Z="v1",Q=(e,t="put",a,n,r)=>new Promise((async(i,l)=>{try{const o=W();if(!o?.projectId)return l({results:!1,error:"Project Id is required"});const s=ee(e),d=n||("Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://seo-manager-website.vercel.app/api/${Z}/${s}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3001/api/${Z}/${s}`:`https://seo-manager-website-git-testing-shadow-republic.vercel.app/api/${Z}/${s}`);let c={X_ProjectId:o?.projectId,X_ProjectKey:o?.projectKey};r&&(c={...c,...r});const p=await Y({method:t||"post",url:d,data:a||{},headers:c});return i(p?.data?.results?{results:p?.data?.results}:{results:p?.data?.results||!1,error:p?.data?.error||!0,message:p?.data?.message||"There was an error on our end! Please try again in a few mintues!"})}catch(e){return i({results:!1,data:e?.response?.data})}})),ee=e=>{let t=e;return"/"===t[0]&&(t=t.replace("/","")),t},te=l.getAuth(K),ae=l.getAuth(K),ne=()=>{document.getElementById("close-seo-manager")?.click()},re=async()=>await l.signOut(ae),ie=p.getStorage(K),le=a.styled(t.Dialog)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2),width:"95vw",maxWidth:"900px"},"& .MuiDialogActions-root":{padding:e.spacing(1)},"& .MuiPaper-root":{margin:"0px",maxWidth:"none !important"}})));class oe extends m.default.Component{constructor(e){super(e),x(this,"componentDidMount",(()=>{})),x(this,"deleteFile",(async()=>{this.setState({deleteLoading:!0});if("yes"===prompt("Are you sure you want to delete this file? (yes or no)")){alert(`File Location: ${this.props.file.location}`);const e=p.ref(ie,this.props.file.location);await p.deleteObject(e),this.props.onDelete(this.props.file,this.props.idx),this.setState({deleteLoading:!1}),this.props.onClose()}this.setState({deleteLoading:!1})})),this.state={deleteLoading:!1}}render(){return m.default.createElement(m.default.Fragment,null,m.default.createElement(le,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},m.default.createElement(t.DialogTitle,{sx:{m:0,p:2}},"File Details",m.default.createElement(t.IconButton,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},m.default.createElement(h.default,null))),m.default.createElement(t.DialogContent,null,m.default.createElement(t.Grid,{item:!0,xs:12,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},this.props.isImage&&m.default.createElement(t.Grid,{className:"file-details-section",mt:2},m.default.createElement("img",{src:this.props.file.url,width:this.props.file?.dimensions?.width||"100%",height:this.props.file?.dimensions?.height||"auto",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",zIndex:0}})),m.default.createElement(t.Grid,{className:"file-details-section",mt:2},m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"fileId",label:"File Id",variant:"standard",placeholder:"",value:this.props.file.fileId,style:{width:"100%"},disabled:!0})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"fileName",label:"File Name",variant:"standard",placeholder:"",value:this.props.file.fileName,style:{width:"100%"},disabled:!0})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"contentType",label:"Content Type",variant:"standard",placeholder:"",value:this.props.file.contentType,style:{width:"100%"},disabled:!0})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"fileSize",label:"File Size",variant:"standard",placeholder:"",value:`${this.props.file.size} bytes`,style:{width:"100%"},disabled:!0})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"url",label:"File Url",variant:"standard",placeholder:"",value:this.props.file.url,style:{width:"100%"},disabled:!0})),this.props.file.dimensions&&m.default.createElement(m.default.Fragment,null,m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"fileWidth",label:"Image Width",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.width}px`,style:{width:"100%"},disabled:!0})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"fileHeight",label:"Image Height",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.height}px`,style:{width:"100%"},disabled:!0}))),this.props.file.timeStamp&&m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"date",label:"File Uploaded on",variant:"standard",placeholder:"",value:new Date(this.props.file.timeStamp).toString(),style:{width:"100%"},disabled:!0}))))),m.default.createElement(t.DialogActions,null,m.default.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},m.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},m.default.createElement(t.Button,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button"},"Close"),m.default.createElement(v.default,{variant:"text",onClick:this.deleteFile,type:"button",loading:this.state.deleteLoading},"Delete"))))))}}class se extends m.default.Component{constructor(e){super(e),x(this,"isImage",(()=>this.state.imageTypes.find((e=>e===this.props.item.contentType)))),this.state={imageTypes:["image/png","image/jpg","image/jpeg","image/webp","image/apng","image/avif","image/gif","image/svg+xml"],fileDetail:!1}}render(){const e=this.isImage();return m.default.createElement(m.default.Fragment,null,m.default.createElement(oe,{onClose:()=>{this.setState({fileDetail:!1})},open:this.state.fileDetail,onDelete:this.props.onDelete,file:this.props.item,idx:this.props.idx,isImage:e}),m.default.createElement("div",{style:{border:this.props.isClicked?"2px solid #8a8a8a":"1px dashed #e3e3e3"},className:"image-container"},m.default.createElement("div",{style:{width:"100%",position:"relative"}},m.default.createElement("div",{style:{position:"absolute",right:-15,top:-15}},m.default.createElement(E.default,{fontSize:"medium",onClick:()=>{this.setState({fileDetail:!0})},style:{cursor:"pointer",backgroundColor:"white",borderRadius:100}}))),e&&m.default.createElement("img",{src:this.props.item?.url,width:this.props.item?.dimensions?.width||"100%",height:this.props.item?.dimensions?.height||"auto",onClick:this.props.onClick,style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",zIndex:0}}),!e&&m.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",cursor:"pointer"},onClick:this.props.onClick},m.default.createElement(t.Typography,{textAlign:"center"},this.props.item.fileName||this.props.item.contentType))))}}const de=p.getStorage(K),ce=l.getAuth(K),pe=a.styled(t.Dialog)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2),width:"95vw",maxWidth:"900px"},"& .MuiDialogActions-root":{padding:e.spacing(1)},"& .MuiPaper-root":{margin:"0px",maxWidth:"none !important"}})));class ue extends m.default.Component{constructor(e){super(e),x(this,"componentDidMount",(()=>{})),x(this,"componentDidUpdate",(e=>{!0===this.props.open&&!1===e.open&&(this.setState({loading:!0,selected:!0===this.props.multiple&&this.props.selected?{url:"",fileId:""}:{...this.props.selected},selectedArray:!0===this.props.multiple&&this.props.selected?[...this.props.selected]:[]}),this.getData()),!1===this.props.open&&!0===e.open&&(this.setState({loading:!0,selected:{url:"",fileId:""},selectedArray:[],fileError:""}),this.getData()),JSON.stringify(this.props.selected)!==JSON.stringify(e.selected)&&this.setState({selected:!0===this.props.multiple&&this.props.selected?{url:"",fileId:""}:{...this.props.selected},selectedArray:!0===this.props.multiple&&this.props.selected?[...this.props.selected]:[]})})),x(this,"getData",(async()=>{const e=await Q("/files/getProjectFiles","get",{},void 0,{X_Authorization:await(ce?.currentUser?.getIdToken()),AuthorizationId:ce?.currentUser?.uid});e.results.files.length>0?this.setState({files:e.results.files,loading:!1}):this.setState({loading:!1})})),x(this,"imageClicked",(e=>{const t={url:e.url,fileId:e.fileId};if(this.props.accept&&!this.props?.accept?.includes(e?.contentType))return this.setState({fileError:`Only accepting ${this.props.accept}`});if(this.setState({fileError:""}),!0===this.props.multiple){let a=[];this.state.selectedArray&&(a=[...this.state.selectedArray]);const n=a.findIndex((t=>{if(t.fileId===e.fileId)return!0}));n>=0?(a.splice(n,1),this.setState({selectedArray:a})):(a.push(t),this.setState({selectedArray:a}))}else this.state.selected.fileId===e.fileId?this.setState({selected:{url:"",fileId:""}}):this.setState({selected:t})})),x(this,"addFile",(e=>{const t=((e,t)=>{let a=[];for(let t in e.target.files){let n=e.target.files[t];n&&n.type&&(e.target.files[t],n.localURL=URL.createObjectURL(n),a.push({object:n,name:n.name}))}return{results:a}})(e);if(t&&!t.error&&t.results.length>0){let e=t.results;this.uploadNewFile(e)}else t.error&&this.setState({fileError:t.error})})),x(this,"uploadNewFile",(e=>new Promise((async(t,a)=>{try{const t=await(ce?.currentUser?.getIdToken()),a=await Q("/files/generateFileIds","post",{type:"default",qty:e.length+1},void 0,{X_Authorization:t,AuthorizationId:ce?.currentUser?.uid}),n=Object.keys(e||[]).map((n=>new Promise((async(r,i)=>{const l=e[n],o=l.object,s=l.name,d=a.results.photoId[n],c={contentType:o.type,cacheControl:"public,max-age=604800",customMetadata:{type:"default",userIdToken:t,userId:ce?.currentUser?.uid,fileName:s,fileId:d,projectId:this.props.projectId}},u=`projects/${this.props.projectId}/files/${d}`,f=p.ref(de,u),m=p.uploadBytesResumable(f,o,c);return m.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100,a=this.state.uploadProgress;a[d]=t,this.setState({uploadProgress:a})}),(e=>(console.error("Error:",e),r({error:!0,results:!1}))),(()=>{p.getDownloadURL(m.snapshot.ref).then((e=>{const t={url:e,fileId:d,contentType:o.type,size:o.size,location:u,fileName:s};return r(t)}))}))})))),r=[...await Promise.all(n),...this.state.files];this.setState({files:r,fileError:"",uploadProgress:{}})}catch(e){console.error("Error:",e),this.setState({uploadProgress:{}})}})))),x(this,"save",(()=>{!0===this.props.multiple?this.props.onChangeComplete(this.state.selectedArray):this.props.onChangeComplete(this.state.selected),this.props.onClose()})),x(this,"fileDeleted",((e,t)=>{const a=this.state.files;if(a.splice(t,1),this.setState({files:a}),!0===this.props.multiple){let t=this.state.selectedArray;const a=t.findIndex((t=>{if(t.fileId===e.fileId)return!0}));a>=0&&(t.splice(a,1),this.setState({selectedArray:t}),this.props.onChangeComplete(t))}else{let t=this.state.selected;e.fileId===t.fileId&&(this.setState({selected:{url:"",fileId:""}}),this.props.onChangeComplete({url:"",fileId:""}))}}));const{selected:t,multiple:a}=e;this.state={files:[],loading:!0,selected:!0===a&&t?{url:"",fileId:""}:{...t},selectedArray:!0===a&&t?[...t]:[],fileError:"",uploadProgress:{}}}render(){let e=0,a=0;Object.keys(this.state.uploadProgress).forEach((t=>{const n=this.state.uploadProgress[t];e+=100,a=n}));const n=a/e*100;return m.default.createElement(m.default.Fragment,null,m.default.createElement(pe,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},m.default.createElement(t.DialogTitle,{sx:{m:0,p:2}},"File Manager",m.default.createElement(t.IconButton,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},m.default.createElement(h.default,null))),m.default.createElement(t.DialogContent,null,this.state.loading&&m.default.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},m.default.createElement(t.CircularProgress,null)),!1===this.state.loading&&this.state?.files?.length>0&&m.default.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:150}},m.default.createElement("div",{style:{},className:"top"},this.props.accept&&m.default.createElement(t.Grid,{item:!0,xs:12,mb:2},m.default.createElement(t.Typography,{textAlign:"center"},"Only accepting ",this.props.accept))),m.default.createElement("div",{className:"fileViewer"},this.state.files.map(((e,t)=>{let a=!1;if(!0===this.props.multiple){this.state.selectedArray.find((t=>t.fileId===e.fileId))&&(a=!0)}else this.state.selected.fileId===e.fileId&&(a=!0);return m.default.createElement(se,{isClicked:a,key:`Photo-${t}`,onClick:()=>this.imageClicked(e),item:e,idx:t,onDelete:this.fileDeleted})})))),!1===this.state.loading&&0===this.state?.files?.length&&m.default.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},m.default.createElement(t.Typography,null,"Add your first files"))),m.default.createElement(t.DialogActions,null,m.default.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},!1===this.state.loading&&m.default.createElement("div",{className:"file-upload carousel-frame-design",style:{width:"100%",height:140,marginBottom:10}},m.default.createElement("input",{className:"file-input",type:"file",onChange:this.addFile,multiple:!0,style:{zIndex:2}}),m.default.createElement("iframe",{src:"https://embed.lottiefiles.com/animation/27938",style:{height:"100%",width:"100%",zIndex:0,position:"absolute"}}),m.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",paddingBottom:5}},m.default.createElement(t.Typography,{component:"p",style:{opacity:.5}},m.default.createElement("i",null,"Click or Drag-n-Drop")))),n<100&&m.default.createElement(t.Box,{sx:{width:"100%"}},m.default.createElement(b.default,{variant:"determinate",value:n})),this.state.fileError&&m.default.createElement("div",{className:"alert alert-danger d-flex align-items-center mb-3",role:"alert",style:{width:"100%"}},m.default.createElement(t.Typography,null,this.state.fileError)),m.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},m.default.createElement(t.Button,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button"},"Close"),m.default.createElement(v.default,{variant:"text",onClick:this.save,type:"button",loading:!1},"Save"))))))}}class fe extends m.default.Component{constructor(e){super(e),x(this,"componentDidUpdate",(e=>{JSON.stringify(e.files)!==JSON.stringify(this.props.files)&&(this.setState({files:""!==this.props?.files?.[0]?.url?Object.keys(this.props?.files||[]).map((e=>{const t=this.props?.files[e];return t.url})):[]}),this.props.files.length>0?this.compileData():this.state.autoAdvancedInterval&&clearInterval(this.state.autoAdvancedInterval))})),x(this,"componentDidMount",(()=>{this.props.files.length>0&&this.compileData()})),x(this,"compileData",(()=>{setTimeout((()=>{const e=Array.from(document.querySelectorAll(".carousel-frame")),t=e=>{const t=e.querySelector(".carousel-slide"),a=function(){let a=e.querySelectorAll(".carousel-slide img");const n=a[0].cloneNode(),r=a[a.length-1].cloneNode();return n.className="first-clone",r.className="last-clone",t.append(n),t.prepend(r),a=e.querySelectorAll(".carousel-slide img"),a}(),n=e?.querySelector(".carousel-prev"),r=e?.querySelector(".carousel-next"),i=Array.from(e.querySelectorAll(".carousel-dots li"));let l=1;function o(){l>=a.length-1||(t.style.transition="transform 400ms",l++,t.style.transform=`translateX(-${100*(l>1?l:2)}%)`)}function s(){l<=0||(t.style.transition="transform 400ms",l--,t.style.transform=`translateX(-${100*l}%)`)}function d(e){t.style.transition="transform 400ms",l=1+i.indexOf(e.target),t.style.transform=`translateX(-${100*l}%)`}const c=()=>{!0===this.state.started&&(r?.removeEventListener("click",o),n?.removeEventListener("click",s)),r?.addEventListener("click",o),n?.addEventListener("click",s)},p=()=>{i.forEach((e=>{!0===this.state.started&&e?.removeEventListener("click",d),e?.addEventListener("click",d)}))},u=()=>{const e=()=>{a[l].classList.contains("last-clone")&&(t.style.transition="none",l=a.length-2,t.style.transform=`translateX(-${100*l}%)`),a[l].classList.contains("first-clone")&&(t.style.transition="none",l=a.length-l,t.style.transform=`translateX(-${100*l}%)`),i.forEach((e=>{i.indexOf(e)===l-1?e.classList.add("active-dot"):e.classList.remove("active-dot")}))};!0===this.state.started&&t?.removeEventListener("transitionend",e),t.addEventListener("transitionend",e)};t.style.transform="translateX(-100%)",i.length&&i[0].classList.add("active-dot"),p(),c(),u(),this.setState({started:!0})};e.forEach((e=>t(e)))}),100)})),this.state={files:""!==e?.files?.[0]?.url?Object.keys(e?.files||[]).map((t=>{const a=e?.files[t];return a.url})):[],openPhotoManager:!1,autoAdvancedInterval:null,buttonListeners:!1,started:!1}}render(){return m.default.createElement(m.default.Fragment,null,m.default.createElement(ue,{open:this.state.openPhotoManager,onChangeComplete:this.props.onChangeComplete,onClose:()=>{this.setState({openPhotoManager:!1})},multiple:this.props.multiple,selected:!0===this.props.multiple?this.props.files:this.props.files[0],data:this.props.data,accept:this.props.accept,projectId:this.props.projectId}),this.state.files.length>0&&m.default.createElement("div",{className:"carousel-frame-design carousel-frame",onClick:()=>{this.setState({openPhotoManager:!0})}},m.default.createElement("div",{className:"carousel-slide"},Object.keys(this.state.files||[]).map((e=>{const t=this.state.files[e];return m.default.createElement("img",{src:t,key:`file-${e}`})}))),this.state.files.length>1&&m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"carousel-prev"},m.default.createElement(g.default,{fontSize:"medium"})),m.default.createElement("div",{className:"carousel-next"},m.default.createElement(y.default,{fontSize:"medium"})),m.default.createElement("ol",{className:"carousel-dots"},Object.keys(this.state.files||[]).map((e=>m.default.createElement("li",{key:`file-${e}`})))))),0===this.state.files.length&&m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"carousel-frame-design",style:{height:300,cursor:"pointer"},onClick:()=>{this.setState({openPhotoManager:!0})}},m.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",paddingBottom:20,position:"absolute",zIndex:1}},m.default.createElement(t.Typography,{component:"p",style:{opacity:.5}},m.default.createElement("i",null,"Click to Select or Upload File"))),m.default.createElement("div",{style:{zIndex:-1,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},m.default.createElement("iframe",{src:"https://embed.lottiefiles.com/animation/27938",style:{height:"100%",width:"100%"}})))))}}class me extends m.default.Component{constructor(e){super(e),x(this,"componentDidMount",(()=>{this.init()})),x(this,"componentWillUnmount",(()=>{this.state.interval&&(clearInterval(this.state.interval),this.setState({interval:null}))})),x(this,"init",(()=>{const e=setInterval((async()=>{this.setUserToken()}),6e4);this.setUserToken(),this.setState({interval:e})})),x(this,"setUserToken",(async()=>{const e=await new Promise((async(e,t)=>e(l.getIdToken(te.currentUser,!0))));this.setState({userToken:e})})),x(this,"openWindow",(()=>{const e="Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://seomanager.dev/dashboard/?userToken=${this.state.userToken}&projectId=${this.props.projectId}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3001/dashboard/?userToken=${this.state.userToken}&projectId=${this.props.projectId}`:`https://testing.seomanager.dev/dashboard/?userToken=${this.state.userToken}&projectId=${this.props.projectId}`;window.open(e,"_blank")})),this.state={interval:null,userToken:""}}render(){return window?.location?.href?.includes("seomanager.dev/dashboard")?null:this.state.userToken?m.default.createElement(m.default.Fragment,null,m.default.createElement(t.Button,{variant:"text",onClick:this.openWindow,type:"button"},"Open Dashboard")):null}}const he=l.getAuth(K);class ge extends m.default.Component{constructor(e){super(e),x(this,"componentDidMount",(async()=>{this.setState({loading:!0}),he?.currentUser?.getIdToken().then((async e=>{const t=await Q("/seo/authorized_get","put",{path:this.props.data?.page?.path||""},void 0,{X_Authorization:e,AuthorizationId:he?.currentUser?.uid});var a;t?.results?.seoRequest&&(this.props.onChange(t?.results?.seoRequest,!0),a=t?.results?.seoRequest,process.env.SEO_MANAGER_MODULE_PROJECT=JSON.stringify(a)),this.setState({loading:!1,isNewPage:!!t?.results?.isNewPage})}))})),x(this,"onPageChange",((e,t)=>{let a={...this.props.data},n=this.state.savedLocations;a.page[t]=e,n.page=!0,this.props.onChange(a,!1),this.setState({data:a,savedLocations:n})})),x(this,"onGlobalChange",((e,t)=>{let a={...this.props.data},n=this.state.savedLocations;a.global[t]=e,n.global=!0,this.props.onChange(a,!1),this.setState({data:a,savedLocations:n})})),x(this,"addPerformAction",((e,t)=>{let a=this.state.performActionOnUpdate;a[t]=e,this.setState({performActionOnUpdate:a})})),x(this,"saveData",(()=>{this.setState({saving:!0}),he?.currentUser?.getIdToken().then((async e=>{const t=Object.keys(this.state.performActionOnUpdate||[]).map((async e=>{const t=this.state.performActionOnUpdate[e];return t&&t.action&&await t.action(),!0}));if(await Promise.all(t),!0===this.state.isNewPage){const t=await Q("/seo/create","post",{data:this.props.data,savedLocations:this.state.savedLocations},void 0,{X_Authorization:e,AuthorizationId:he?.currentUser?.uid});t?.results&&this.props.onChangeComplete&&this.props.onChangeComplete(t?.results),this.setState({saving:!1}),t?.error||ne()}else{const t=await Q("/seo/update","put",{data:this.props.data,savedLocations:this.state.savedLocations},void 0,{X_Authorization:e,AuthorizationId:he?.currentUser?.uid});t?.results&&this.props.onChangeComplete&&this.props.onChangeComplete(t?.results),this.setState({saving:!1}),t?.error||ne()}}))})),this.state={loading:!0,saving:!1,newImage:"",file:null,performActionOnUpdate:{},photoManager:!0,tabIndex:0,savedLocations:{},isNewPage:!1}}render(){return m.default.createElement(m.default.Fragment,null,this.state.loading?m.default.createElement(t.DialogContent,{dividers:!0},m.default.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},m.default.createElement(t.CircularProgress,null))):m.default.createElement(m.default.Fragment,null,m.default.createElement(t.DialogContent,{dividers:!0},m.default.createElement(t.Grid,{item:!0,xs:12},m.default.createElement(t.Box,{sx:{borderBottom:1,borderColor:"divider"}},m.default.createElement(t.Tabs,{value:this.state.tabIndex,onChange:(e,t)=>{this.setState({tabIndex:t})},"aria-label":"Select SEO Manager Options"},m.default.createElement(t.Tab,w({label:"Page"},be(0))),m.default.createElement(t.Tab,w({label:"Global"},be(1))),m.default.createElement(t.Tab,w({label:"Account"},be(3)))))),m.default.createElement(t.Grid,{item:!0,xs:12,mt:2,display:"flex",justifyContent:"center"},m.default.createElement(me,{projectId:this.props?.data?.projectId})),m.default.createElement(ye,{value:this.state.tabIndex,index:0},m.default.createElement(t.Grid,{item:!0,xs:12},m.default.createElement("div",{className:"form-floating mb-3"},m.default.createElement(fe,{files:this.props?.data?.page?.image?[this.props.data.page.image]:[{url:"",fileId:""}],onChangeComplete:e=>{const t=e?.url?e:{url:"",fileId:""};this.onPageChange(t,"image")},multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/webp",data:this.props.data.page,projectId:this.props?.data?.projectId}))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"page-path",label:"Page Path",variant:"standard",placeholder:"",value:this.props.data?.page?.path||"",style:{width:"100%"},onChange:e=>{let t=e.target.value;"/"!==t?.[0]&&(t=`/${t}`),this.onPageChange(t,"path")}})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"title",label:"Title",variant:"standard",placeholder:"Home - Stark Industries",onChange:e=>{this.onPageChange(e.target.value,"title")},value:this.props.data?.page?.title||"",style:{width:"100%"},helperText:`${this.props.data?.page?.title.length||0} of 60 (recommended)`})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"description",label:"Description",variant:"standard",placeholder:"",onChange:e=>{this.onPageChange(e.target.value,"description")},value:this.props.data?.page?.description,style:{width:"100%"},multiline:!0,helperText:`${this.props.data?.page?.description.length||0} of 160 (recommended)`})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.Autocomplete,{multiple:!0,id:"tags-keywords",options:[],defaultValue:this.props?.data?.page?.keywordsArray||[],freeSolo:!0,onChange:(e,t)=>{this.onPageChange(t,"keywordsArray")},renderTags:(e,a)=>e.map(((e,n)=>m.default.createElement(t.Chip,w({variant:"outlined",label:e},a({index:n}))))),renderInput:e=>m.default.createElement(t.TextField,w({},e,{variant:"standard",label:"Keywords",placeholder:"Add Keywords"}))})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.FormControl,{variant:"standard",sx:{minWidth:"100%"}},m.default.createElement(t.InputLabel,{id:"follow"},"Should search engines follow the page?"),m.default.createElement(t.Select,{labelId:"follow",id:"follow-select",value:this.props.data?.page?.follow,onChange:e=>{this.onPageChange(e.target.value,"follow")},label:"Should search engines follow the page?",style:{zIndex:10}},m.default.createElement(t.MenuItem,{value:""},"Select Follow Option"),m.default.createElement(t.MenuItem,{value:"follow"},"Follow"),m.default.createElement(t.MenuItem,{value:"nofollow"},"No Follow")))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.FormControl,{variant:"standard",sx:{minWidth:"100%"}},m.default.createElement(t.InputLabel,{id:"index"},"Should search engines index the page?"),m.default.createElement(t.Select,{labelId:"index",id:"index-select",value:this.props.data.page?.index,onChange:e=>{this.onPageChange(e.target.value,"index")},label:"Should search engines index the page?"},m.default.createElement(t.MenuItem,{value:""},"Select Index Option"),m.default.createElement(t.MenuItem,{value:"index"},"Index"),m.default.createElement(t.MenuItem,{value:"noindex"},"No Index")))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.FormControl,{variant:"standard",sx:{minWidth:"100%"}},m.default.createElement(t.InputLabel,{id:"changeFreq"},"How often will the content change?"),m.default.createElement(t.Select,{labelId:"changeFreq",id:"changeFreq-select",value:this.props.data.page?.changeFreq,onChange:e=>{this.onPageChange(e.target.value,"changeFreq")},label:"How often will the content change?"},m.default.createElement(t.MenuItem,null,"Select Frequency"),m.default.createElement(t.MenuItem,{value:"always"},"Always"),m.default.createElement(t.MenuItem,{value:"daily"},"Daily"),m.default.createElement(t.MenuItem,{value:"weekly"},"Weekly"),m.default.createElement(t.MenuItem,{value:"monthly"},"Monthly"),m.default.createElement(t.MenuItem,{value:"yearly"},"Yearly"),m.default.createElement(t.MenuItem,{value:"never"},"Never")))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.FormControl,{variant:"standard",sx:{minWidth:"100%"}},m.default.createElement(t.InputLabel,{id:"priority"},"Page Prority (10 Highest)"),m.default.createElement(t.Select,{labelId:"priority",id:"priority-select",value:this.props.data.page?.priority,onChange:e=>{this.onPageChange(e.target.value,"priority")},label:"Page Priority (10 being the highest)"},m.default.createElement(t.MenuItem,null,"Select Page Priority"),m.default.createElement(t.MenuItem,{value:.1},"1"),m.default.createElement(t.MenuItem,{value:.2},"2"),m.default.createElement(t.MenuItem,{value:.3},"3"),m.default.createElement(t.MenuItem,{value:.4},"4"),m.default.createElement(t.MenuItem,{value:.5},"5"),m.default.createElement(t.MenuItem,{value:.6},"6"),m.default.createElement(t.MenuItem,{value:.7},"7"),m.default.createElement(t.MenuItem,{value:.8},"8"),m.default.createElement(t.MenuItem,{value:.9},"9"),m.default.createElement(t.MenuItem,{value:1},"10")))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"ldJson",label:"Structured Data",variant:"standard",placeholder:"",onChange:e=>{this.onPageChange(e.target.value,"ldJson")},value:this.props.data?.page?.ldJson,style:{width:"100%"},multiline:!0}))),m.default.createElement(ye,{value:this.state.tabIndex,index:1},m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"default-title",label:"Default Title",variant:"standard",placeholder:"",onChange:e=>{this.onGlobalChange(e.target.value,"defaultTitle")},value:this.props.data?.global?.defaultTitle,style:{width:"100%"},multiline:!0,helperText:`${this.props.data?.global?.defaultTitle.length||0} of 60 (recommended)`})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"default-description",label:"Default Description",variant:"standard",placeholder:"",onChange:e=>{this.onGlobalChange(e.target.value,"defaultDescription")},value:this.props.data?.global?.defaultDescription,style:{width:"100%"},multiline:!0,helperText:`${this.props.data?.global?.defaultDescription.length||0} of 160 (recommended)`})),m.default.createElement(t.Grid,{item:!0,xs:12},m.default.createElement("div",{className:"form-floating mb-3"},m.default.createElement(fe,{files:this.props?.data?.global?.favicon?.fileId?[this.props.data.global.favicon]:[{url:"",fileId:""}],onChangeComplete:e=>{const t=e?.url?e:{url:"",fileId:""};this.onGlobalChange(t,"favicon")},multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/webp",data:this.props.data.page,projectId:this.props?.data?.projectId}))),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"navbar-color",label:"Pick a Navigation Theme Color",variant:"standard",type:"color",value:this.props?.data?.global?.themeColor||"#FFFFFF",style:{width:"100%"},onChange:e=>{this.onGlobalChange(e.target.value,"themeColor")}}))),m.default.createElement(ye,{value:this.state.tabIndex,index:2},m.default.createElement(t.Grid,{container:!0},m.default.createElement(t.Grid,{item:!0,mb:1,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},m.default.createElement(t.Button,{variant:"text",onClick:re,type:"button",mt:5},"Sign Out"))))),m.default.createElement(t.DialogActions,null,m.default.createElement("div",{className:"modal-footer",style:{width:"100%"}},m.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},m.default.createElement(t.Button,{variant:"text",id:"close-seo-manager",onClick:this.props.resetData,type:"button"},"Close"),m.default.createElement(v.default,{variant:"text",onClick:this.saveData,type:"button",loading:this.state.saving},"Save"))))))}}function ye(e){const{children:a,value:n,index:r,...i}=e;return m.default.createElement("div",w({role:"tabpanel",hidden:n!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`},i),n===r&&m.default.createElement(t.Box,{sx:{p:3}},a))}function be(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}ye.propTypes={children:I.exports.node,index:I.exports.number.isRequired,value:I.exports.number.isRequired};const ve=l.getAuth(K);class Ee extends m.default.Component{constructor(e){super(e),x(this,"componentDidMount",(()=>{this.setState({loading:!0,user:!1,loaded:!0}),this.authentication()})),x(this,"componentDidUpdate",(e=>{this.props?.open!==e?.open&&this.setState({openManager:!!this.props?.open})})),x(this,"authentication",(()=>{const e=["owner","admin","editor"];l.onAuthStateChanged(ve,(async t=>{if(t){const a=await t.getIdTokenResult(!0),n={...t,customClaims:a.claims};a?.claims?.[this.state.projectId]&&e.includes(a?.claims?.[this.state.projectId])?this.setState({authorizedUser:!0}):this.setState({authorizedUser:!1}),this.setState({user:n})}else this.setState({user:!1});this.setState({loading:!1}),i.getAnalytics(K)}))})),x(this,"checkComponentErrors",(({head:e,data:t,onChangeComplete:a,onClose:n,open:r,isNewPage:i})=>{if(!e)throw"Please add this tag to your SEOHelper component 'head={(data) => (<Head>{data}</Head>)}'. If your not using NextJS replace <Head>{data}</Head> with <Helmet>{data}</Helmet> from npm react-helmet."})),x(this,"formatHead",(e=>e&&!1!==e.valid?m.default.createElement(m.default.Fragment,null,m.default.createElement("meta",{property:"og:locale",content:"en_US"}),m.default.createElement("meta",{property:"og:type",content:"website"}),m.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),m.default.createElement("meta",{name:"robots",content:`${e?.page?.index||"index"}, ${e?.page?.follow||"follow"}`}),e?.global?.themeColor&&m.default.createElement("meta",{name:"theme-color",content:e?.global?.themeColor}),e?.global?.favicon?.url&&m.default.createElement("link",{rel:"icon",type:"image/x-icon",href:e.global.favicon.url,sizes:"192x192"}),e?.global?.canonicalURL&&e?.page?.path&&m.default.createElement("link",{href:`${e.global.canonicalURL}${e.page.path}`,rel:"canonical"}),e?.global?.canonicalURL&&e?.page?.path&&m.default.createElement("meta",{property:"og:url",content:`${e.global.canonicalURL}${e.page.path}`}),e?.page?.image?.url&&m.default.createElement("meta",{property:"og:image",content:e.page.image.url}),e?.page?.image?.url&&m.default.createElement("meta",{name:"twitter:image",content:e.page.image.url}),m.default.createElement("title",null,e?.page?.title||e?.global?.defaultTitle||""),m.default.createElement("meta",{property:"og:title",content:e?.page?.title||e?.global?.defaultTitle||""}),m.default.createElement("meta",{name:"twitter:title",content:e?.page?.title||e?.global?.defaultTitle||""}),m.default.createElement("meta",{name:"description",content:e?.page?.description||e?.global?.defaultDescription||"",key:"description"}),m.default.createElement("meta",{property:"og:description",content:e?.page?.description||e?.global?.defaultDescription||""}),m.default.createElement("meta",{name:"twitter:description",content:e?.page?.description||e?.global?.defaultDescription||""}),e?.page?.keywords&&m.default.createElement("meta",{name:"keywords",content:e.page.keywords}),e?.page?.ldJson&&m.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e.page.ldJson}}),e?.page?.events&&m.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e.page.events)}}),this.props.children):null)),x(this,"signIn",(async e=>{e.preventDefault(),this.setState({loading:!0}),l.signInWithEmailAndPassword(ve,this.state.email,this.state.password).then((e=>{this.setState({loading:!1})})).catch((e=>{e.message,this.setState({loginError:e.code,loading:!1})}))})),x(this,"signOut",(async()=>{await l.signOut(ve)})),x(this,"resetData",(()=>{this.props?.onClose&&this.props.onClose(),this.setState({data:this.state.dataOriginal,openManager:!1})})),x(this,"updateData",((e,t)=>{this.setState({data:e}),!0===t&&this.setState({dataOriginal:e})})),x(this,"openManager",(e=>{this.setState({openManager:!0})})),x(this,"handleClose",(()=>{}));const{head:t,data:a,onChangeComplete:n,onClose:r,open:o,isNewPage:s}=e;this.checkComponentErrors({head:t,data:a,onChangeComplete:n,onClose:r,open:o,isNewPage:s});const d=W();this.state={data:a,dataOriginal:a,head:t(this.formatHead(a)),loading:!0,loaded:!1,open:!0,user:null,email:"",password:"",loginError:"",projectId:d.projectId,authorizedUser:!1,openManager:!!o}}render(){return m.default.createElement(m.default.Fragment,null,!1===this.state.loaded&&null===this.state.user?m.default.createElement(m.default.Fragment,null,this.state.head):m.default.createElement(m.default.Fragment,null,this.props.head(this.formatHead(this.state.data))),m.default.createElement("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"open-seo-manager",style:{display:"none"},onClick:this.openManager}),m.default.createElement(xe,{onClose:this.resetData,"aria-labelledby":"customized-dialog-title",open:this.state.openManager,maxWidth:!1,style:{zIndex:100}},m.default.createElement(t.DialogTitle,{sx:{m:0,p:2}},"SEO Manager",m.default.createElement(t.IconButton,{"aria-label":"close",onClick:this.resetData,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},m.default.createElement(h.default,null))),this.state.user&&!0===this.state.authorizedUser&&!0===this.state.openManager&&m.default.createElement(ge,{onChange:this.updateData,data:this.state.data,dataOriginal:this.state.dataOriginal,resetData:this.resetData,onChangeComplete:this.props.onChangeComplete,user:this.state.user,isNewPage:this.props.isNewPage}),!1===this.state.user&&!1===this.state.loading&&m.default.createElement(t.DialogContent,null,m.default.createElement("form",{onSubmit:this.signIn},m.default.createElement(t.Typography,null,"Please login to your SEO Manager Account to continue"),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"email",label:"Email address",variant:"standard",placeholder:"name@example.com",onChange:e=>{this.setState({email:e.target.value})},required:!0,style:{width:"100%"}})),m.default.createElement(t.Grid,{item:!0,mb:1},m.default.createElement(t.TextField,{id:"password",label:"Password",variant:"standard",onChange:e=>{this.setState({password:e.target.value})},required:!0,type:"password",style:{width:"100%"}})),this.state.loginError&&m.default.createElement("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",style:{marginTop:15}},m.default.createElement("svg",{className:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},m.default.createElement("use",{xlinkHref:"#exclamation-triangle-fill"})),m.default.createElement("div",null,this.state.loginError)),m.default.createElement("div",{className:"d-grid gap-2"},m.default.createElement(t.Button,{variant:"contained",type:"submit",style:{marginTop:15},fullWidth:!0},"Login")))),!1===this.state.loading&&this.state.user&&!1===this.state.authorizedUser&&m.default.createElement(m.default.Fragment,null,m.default.createElement(t.DialogContent,null,m.default.createElement("p",null,"Unfortunately it appears you are not authorized to make changes to this website! Is it possible your signed in on the wrong account?"," ",m.default.createElement("a",{onClick:this.signOut,style:{cursor:"pointer"}},m.default.createElement("strong",null,"Click Here to Sign Out"))))),!0===this.state.loading&&m.default.createElement(t.DialogContent,{dividers:!0},m.default.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},m.default.createElement(t.CircularProgress,null)))))}}Ee.propTypes={head:I.exports.any.isRequired,data:I.exports.any.isRequired,onChangeComplete:I.exports.any,onClose:I.exports.any,open:I.exports.bool,isNewPage:I.exports.bool};const xe=a.styled(t.Dialog)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2),width:"95vw",maxWidth:"900px"},"& .MuiDialogActions-root":{padding:e.spacing(1)},"& .MuiPaper-root":{margin:"0px",maxWidth:"none !important"}})));module.exports=Ee;
