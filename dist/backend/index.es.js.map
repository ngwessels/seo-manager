{"version":3,"file":"index.es.js","sources":["../../src/utilities/setupInit.js","../../src/firebase.js","../../src/utilities/serverCall.js","../../src/utilities/fetch.js","../../src/backend/init.js"],"sourcesContent":["export const SEOinitialize = (keys) => {\n  const init = returnKey() || {};\n  let object = { ...init };\n  const { projectId, projectKey, secretKey } = keys;\n  if (projectId) {\n    object.projectId = projectId;\n    process.env.SEO_MANAGER_MODULE_PROJECTID = projectId;\n  }\n  if (projectKey) {\n    object.projectKey = projectKey;\n    process.env.SEO_MANAGER_MODULE_PROJECTKEY = projectKey;\n  }\n  if (secretKey) {\n    object.secretKey = secretKey;\n    process.env.SEO_MANAGER_MODULE_SECRETKEY = secretKey;\n  }\n  if (!object?.projectId) {\n    throw \"Please add a projectId by calling the SEOInit function SEOInit({projectId: '<<Add Value Here>>'})\";\n  }\n};\n\nexport const returnKey = () => {\n  let object = {};\n  let objectValid = false;\n  if (process.env.SEO_MANAGER_MODULE_SECRETKEY) {\n    object.secretKey = process.env.SEO_MANAGER_MODULE_SECRETKEY;\n    objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTKEY) {\n    object.projectKey = process.env.SEO_MANAGER_MODULE_PROJECTKEY;\n    objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTID) {\n    object.projectId = process.env.SEO_MANAGER_MODULE_PROJECTID;\n    objectValid = true;\n  }\n\n  return object;\n};\n\nexport const setProject = (project) => {\n  process.env.SEO_MANAGER_MODULE_PROJECT = JSON.stringify(project);\n};\n\nexport const returnProject = () => {\n  const data = process.env.SEO_MANAGER_MODULE_PROJECT;\n  return data ? JSON.parse(data) : null;\n};\n","import { initializeApp, getApps, getApp } from \"firebase/app\";\n\nconst firebaseConfig =\n  process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n  process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n    ? {\n        apiKey: \"AIzaSyDPjpRmobrdUtIY3hIaNoyox7alxYJH_B8\",\n        authDomain: \"seo-manager-live.firebaseapp.com\",\n        projectId: \"seo-manager-live\",\n        storageBucket: \"seo-manager-live.appspot.com\",\n        messagingSenderId: \"510256510596\",\n        appId: \"1:510256510596:web:eae1ccc42cb103b8a7f4d1\",\n        measurementId: \"G-RED1HCM49W\"\n      }\n    : {\n        apiKey: \"AIzaSyBD6KEJFm2SVguRDEiqufIlRo5HuHu0IZg\",\n        authDomain: \"seo-manager-test.firebaseapp.com\",\n        projectId: \"seo-manager-test\",\n        storageBucket: \"seo-manager-test.appspot.com\",\n        messagingSenderId: \"682714204028\",\n        appId: \"1:682714204028:web:a782b9da96ce811ee606f9\",\n        measurementId: \"G-PYZDK47B2M\"\n      };\n\nlet app;\nconst appFoundIndex = getApps()?.findIndex((a) => {\n  if (a?.name === \"seo-manager\") {\n    return true;\n  }\n});\nif (appFoundIndex < 0) {\n  app = initializeApp(firebaseConfig, \"seo-manager\");\n} else {\n  app = getApp(\"seo-manager\");\n}\nexport default app;\n","// import axios from \"axios\";\nconst axios = require(\"axios\");\nimport { returnKey } from \"./setupInit\";\n\nconst version = \"v1\";\n\nexport const serverCall = (path, method = \"put\", data, url, headers) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const initData = returnKey(); //Returns Project Id and Project Key\n      if (!initData?.projectId) {\n        return reject({ results: false, error: \"Project Id is required\" });\n      }\n\n      const formattedPath = formatPath(path);\n      const urlPath = url\n        ? url\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n          process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n        ? `https://seomanager.dev/api/${version}/${formattedPath}`\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER === \"Test\"\n        ? `http://localhost:3001/api/${version}/${formattedPath}`\n        : `https://testing.seomanager.dev/api/${version}/${formattedPath}`;\n\n      let callHeaders = {\n        X_ProjectId: initData?.projectId,\n        X_ProjectKey: initData?.projectKey\n      };\n      if (headers) {\n        callHeaders = { ...callHeaders, ...headers };\n      }\n      const response = await axios({\n        method: method || \"post\",\n        url: urlPath,\n        data: data || {},\n        headers: callHeaders\n      });\n      if (!response?.data?.results) {\n        return resolve(response?.data);\n      }\n      return resolve({ results: response?.data?.results });\n    } catch (err) {\n      return resolve({ results: false, data: err?.response?.data });\n    }\n  });\n};\n\nexport const serverSecretCall = (path, method = \"put\", data, url, headers) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const initData = returnKey(); //Returns Project Id and Project Key\n\n      if (!initData?.projectId) {\n        return reject({ results: false, error: \"Project Id is required\" });\n      }\n      if (!initData?.secretKey) {\n        return reject({\n          results: false,\n          error: \"Project Secret Key is required\"\n        });\n      }\n\n      const formattedPath = formatPath(path);\n\n      const urlPath = url\n        ? url\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n          process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n        ? `https://seomanager.dev/api/${version}/${formattedPath}`\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER === \"Test\"\n        ? `http://localhost:3001/api/${version}/${formattedPath}`\n        : `https://testing.seomanager.dev/api/${version}/${formattedPath}`;\n      let callHeaders = {\n        X_ProjectId: initData?.projectId,\n        X_ProjectKey: initData?.projectKey,\n        X_ProjectSecretKey: initData?.secretKey\n      };\n      if (headers) {\n        callHeaders = { ...callHeaders, ...headers };\n      }\n      const response = await axios({\n        method: method || \"post\",\n        url: urlPath,\n        data: data || {},\n        headers: callHeaders\n      });\n      return resolve(response?.data);\n    } catch (err) {\n      return resolve({\n        results: err?.response?.data?.results || false,\n        error: err?.response?.data?.error || true,\n        message:\n          err?.response?.data?.message ||\n          err?.response?.data ||\n          \"There was an error on our end! Please try again in a few mintues!\"\n      });\n    }\n  });\n};\n\nconst formatPath = (path) => {\n  let newPath = path;\n  if (newPath[0] === \"/\") {\n    newPath = newPath.replace(\"/\", \"\");\n  }\n  return newPath;\n};\n","//Firebase\nimport firebase from \"../firebase\";\nimport { getAuth, getIdToken } from \"firebase/auth\";\nconst auth = getAuth(firebase);\n\nimport { serverCall } from \"./serverCall.js\";\n\nexport const fetch = (path, request = {}) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (process.browser) {\n        throw {\n          error:\n            \"This function is only allowed to be called in a server environment, not in the client. If you are using NextJS this belong in getServerSideProps or getStaticProps.\"\n        };\n      }\n      if (!path) {\n        throw { error: \"You must pass page path!\" };\n      }\n      console.log(\"REQUEST:\", request?.headers);\n      const { results, error } = await serverCall(\"/seo/server_get\", \"put\", {\n        path,\n        headers: request?.headers || {}\n      });\n      if (!results) {\n        return resolve({\n          results: false,\n          error: error,\n          message: \"No SEO data for this page found\"\n        });\n      }\n      return resolve({ results });\n    } catch (err) {\n      return resolve({ results: false, error: err.error });\n    }\n  });\n};\n\nexport const getUserToken = () => {\n  return new Promise(async (resolve, reject) => {\n    const token = getIdToken(auth.currentUser, true);\n    return resolve(token);\n  });\n};\n","import { SEOinitialize } from \"../utilities/setupInit\";\nimport { fetch } from \"../utilities/fetch\";\nimport { serverSecretCall } from \"../utilities/serverCall\";\n\n// type PageIdentifiers = {\n//   pageId?: string;\n//   page?: string;\n// };\n// type Image = {\n//   url: string;\n//   fileId?: string;\n//   isExternal: boolean;\n// };\n// type SEO = {\n//   path?: string;\n//   description?: string;\n//   follow?: string;\n//   index?: string;\n//   title?: string;\n//   changeFreq?: \"weekly\" | \"monthly\" | \"daily\";\n//   keywordsArray?: [];\n//   priority?:\n//     | \"1\"\n//     | \"0.9\"\n//     | \"0.8\"\n//     | \"0.7\"\n//     | \"0.6\"\n//     | \"0.5\"\n//     | \"0.4\"\n//     | \"0.3\"\n//     | \"0.2\"\n//     | \"0.1\";\n//   ldJSON?: string;\n//   image?: Image;\n// };\n\n// type Options = {\n//   upsert?: boolean;\n// };\n\n// type SEOINIT = {\n//   projectId: string;\n//   projectKey: string;\n//   secretKey?: string;\n// };\n\nexport const SEOInit = (keys) => {\n  SEOinitialize(keys);\n};\n\nexport const fetchSEO = (path, headers = {}) => {\n  return new Promise(async (resolve, reject) => {\n    const data = await fetch(path, headers);\n    return resolve(data);\n  });\n};\n\nexport const backendValidation = (queueId) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"/backend/validate\", \"put\", {\n        queueId\n      });\n      return resolve(response);\n    } catch (err) {\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\nexport const checkBackendKeys = () => {\n  const initData = returnKey(); //Returns Project Id and Project Key\n  if (!initData?.secretKey) {\n    throw {\n      error:\n        \"Please add a secretKey by calling the SEOInit function SEOInit({secretKey: '<<Add Value Here>>'}). Make sure you initialize this in your Api, not _app.js!\"\n    };\n  }\n  if (!initData?.projectId) {\n    throw {\n      error:\n        \"Please add a projectId by calling the SEOInit function SEOInit({projectId: '<<Add Value Here>>'}). Make sure you initialize this in your Api, not _app.js!\"\n    };\n  }\n};\n\n/**\n * * @name insertSeoPage\n * @function\n * @param {Object[]} pageIdentifiers - Array of page paths\n * @param {string} pageIdentifiers[].path - SEO Page path\n * @param {Object[]} pageSEO - Array of page SEO information (must be in same order as pageIdentifiers)\n * @param {string} pageSEO[].path - SEO Page path (SEO page path you want set)\n * @param {string} pageSEO[].title - SEO Page title\n * @param {string} pageSEO[].description - SEO Page description\n */\nexport function insertSeoPage(pageIdentifiers, pageSEO) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/insert\", \"post\", {\n        pageIdentifiers,\n        pageSEO\n      });\n      return resolve(response);\n    } catch (err) {\n      console.error(err);\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n}\n\nexport const updateSeoPage = (pageIdentifiers, pageSEO, options) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/update\", \"put\", {\n        pageIdentifiers,\n        pageSEO,\n        options\n      });\n      return resolve(response);\n    } catch (err) {\n      console.log(\"Error:\", err);\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\nexport const deleteSeoPage = (pageIdentifiers) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/delete\", \"post\", {\n        pageIdentifiers\n      });\n      return resolve(response);\n    } catch (err) {\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\n// export const getSeoPage = (pageIdentifiers: PageIdentifiers) => {\n//   return new Promise(async (resolve, reject) => {\n//     try {\n//       checkBackendKeys(); //Checks keys\n//       const response = await serverSecretCall(\"backend/seo/get\", \"post\", {\n//         pageIdentifiers\n//       });\n//       return resolve(response);\n//     } catch (err) {\n//       return resolve({\n//         results: false,\n//         error: true,\n//         message: err?.data?.error || err?.error || \"Something went wrong\"\n//       });\n//     }\n//   });\n// };\n\nexport const getSeoPages = (pageIdentifiers) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\n        \"backend/seo/getSeoPages\",\n        \"post\",\n        {\n          pageIdentifiers\n        }\n      );\n      return resolve(response);\n    } catch (err) {\n      return resolve({\n        results: false,\n        error: true,\n        message: err?.data?.error || err?.error || \"Something went wrong\"\n      });\n    }\n  });\n};\n\n// type ReturnKey = {\n//   secretKey?: string;\n//   projectKey: string;\n//   projectId: string;\n// };\nconst returnKey = () => {\n  let object = {};\n  let objectValid = false;\n  if (process.env.SEO_MANAGER_MODULE_SECRETKEY) {\n    object.secretKey = process.env.SEO_MANAGER_MODULE_SECRETKEY;\n    objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTKEY) {\n    object.projectKey = process.env.SEO_MANAGER_MODULE_PROJECTKEY;\n    objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTID) {\n    object.projectId = process.env.SEO_MANAGER_MODULE_PROJECTID;\n    objectValid = true;\n  }\n\n  return object;\n};\n"],"names":["SEOinitialize","keys","init","returnKey","object","projectId","projectKey","secretKey","process","env","SEO_MANAGER_MODULE_PROJECTID","SEO_MANAGER_MODULE_PROJECTKEY","SEO_MANAGER_MODULE_SECRETKEY","firebaseConfig","NEXT_PUBLIC_NODE_ENV_MANAGER","apiKey","authDomain","storageBucket","messagingSenderId","appId","measurementId","app","appFoundIndex","getApps","findIndex","a","name","initializeApp","getApp","axios","require","version","serverCall","path","method","data","url","headers","Promise","resolve","reject","initData","results","error","formattedPath","formatPath","urlPath","callHeaders","X_ProjectId","X_ProjectKey","response","err","serverSecretCall","X_ProjectSecretKey","message","newPath","replace","getAuth","firebase","fetch","request","browser","console","log","SEOInit","fetchSEO","backendValidation","queueId","checkBackendKeys","insertSeoPage","pageIdentifiers","pageSEO","updateSeoPage","options","deleteSeoPage","getSeoPages"],"mappings":"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"}