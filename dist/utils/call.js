import{__awaiter as e}from"../node_modules/tslib/tslib.es6.js";import o from"../node_modules/axios/index.js";import{returnKey as s}from"./Init.js";const t=(t,l="put",i,n,d)=>new Promise(((a,u)=>e(void 0,void 0,void 0,(function*(){var e,c;try{const p=s();if(!p)return u({results:!1,error:"SEO Manager not initialized"});console.log("Process ENV:",process.env.NEXT_PUBLIC_NODE_ENV_MANAGER);const v=r(t),m=n||("Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://seo-manager-website.vercel.app/api/v1/${v}`:`http://localhost:3001/api/v1/${v}`);let _={X_ProjectId:null==p?void 0:p.projectId,X_ProjectKey:null==p?void 0:p.projectKey};d&&(_=Object.assign(Object.assign({},_),d));const E=yield o({method:l||"post",url:m,data:i||{},headers:_});return(null===(e=null==E?void 0:E.data)||void 0===e?void 0:e.results)?a({results:null===(c=null==E?void 0:E.data)||void 0===c?void 0:c.results}):u({results:!1,error:!1,message:"Not Successful"})}catch(e){return u({results:!1,error:e})}})))),r=e=>{let o=e;return"/"===o[0]&&(o=o.replace("/","")),o};export{t as serverCall};
//# sourceMappingURL=call.js.map
