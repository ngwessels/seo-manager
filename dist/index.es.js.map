{"version":3,"file":"index.es.js","sources":["../src/utilities/setupInit.ts","../src/firebase.ts","../src/utilities/serverCall.ts","../src/utilities/fetch.ts","../src/backend/index.ts"],"sourcesContent":["import { SEOInitKeys } from \"../types\";\n\n//INITIALIZE PROJECT\n/**\n * * @name SEOInit\n * @function\n * @param {SEOInitKeys} keys - Object containing secretKey, projectId, and projectKey\n */\nexport const SEOInit = (keys: SEOInitKeys): boolean => {\n  const init = returnKey() || {};\n  let object = { ...init };\n  const { projectId, projectKey, secretKey } = keys;\n  if (projectId) {\n    object.projectId = projectId;\n    process.env.SEO_MANAGER_MODULE_PROJECTID = projectId;\n  }\n  if (projectKey) {\n    object.projectKey = projectKey;\n    process.env.SEO_MANAGER_MODULE_PROJECTKEY = projectKey;\n  }\n  if (secretKey) {\n    object.secretKey = secretKey;\n    process.env.SEO_MANAGER_MODULE_SECRETKEY = secretKey;\n  }\n  if (!object?.projectId) {\n    throw \"Please add a projectId by calling the SEOInit function SEOInit({projectId: '<<Add Value Here>>'})\";\n  }\n  return true;\n};\n\nexport const returnKey = (): {\n  secretKey?: string;\n  projectKey?: string;\n  projectId?: string;\n} => {\n  let object: any = {};\n  // let objectValid = false;\n  if (process.env.SEO_MANAGER_MODULE_SECRETKEY) {\n    object.secretKey = process.env.SEO_MANAGER_MODULE_SECRETKEY;\n    // objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTKEY) {\n    object.projectKey = process.env.SEO_MANAGER_MODULE_PROJECTKEY;\n    // objectValid = true;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTID) {\n    object.projectId = process.env.SEO_MANAGER_MODULE_PROJECTID;\n    // objectValid = true;\n  }\n\n  return object;\n};\n\nexport const setProject = (project: any) => {\n  process.env.SEO_MANAGER_MODULE_PROJECT = JSON.stringify(project);\n};\n\nexport const returnProject = (): any | null => {\n  const data = process.env.SEO_MANAGER_MODULE_PROJECT;\n  return data ? JSON.parse(data) : null;\n};\n","import { initializeApp, getApps, getApp } from \"firebase/app\";\n\nconst firebaseConfig =\n  process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n  process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n    ? {\n        apiKey: \"AIzaSyDPjpRmobrdUtIY3hIaNoyox7alxYJH_B8\",\n        authDomain: \"seo-manager-live.firebaseapp.com\",\n        projectId: \"seo-manager-live\",\n        storageBucket: \"seo-manager-live.appspot.com\",\n        messagingSenderId: \"510256510596\",\n        appId: \"1:510256510596:web:eae1ccc42cb103b8a7f4d1\",\n        measurementId: \"G-RED1HCM49W\"\n      }\n    : {\n        apiKey: \"AIzaSyBD6KEJFm2SVguRDEiqufIlRo5HuHu0IZg\",\n        authDomain: \"seo-manager-test.firebaseapp.com\",\n        projectId: \"seo-manager-test\",\n        storageBucket: \"seo-manager-test.appspot.com\",\n        messagingSenderId: \"682714204028\",\n        appId: \"1:682714204028:web:a782b9da96ce811ee606f9\",\n        measurementId: \"G-PYZDK47B2M\"\n      };\n\nlet app: any;\nconst appFoundIndex = getApps()?.findIndex((a) => {\n  if (a?.name === \"seo-manager\") {\n    return true;\n  }\n  return false;\n});\nif (appFoundIndex < 0) {\n  app = initializeApp(firebaseConfig, \"seo-manager\");\n} else {\n  app = getApp(\"seo-manager\");\n}\nexport default app;\n","import axios, { Method } from \"axios\";\nimport { returnKey } from \"./setupInit\";\n\nconst version = \"v1\";\n\nexport const serverCall = (\n  path: string,\n  method: string = \"put\",\n  data: any,\n  url?: string,\n  headers?: any\n): any => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const initData = returnKey(); //Returns Project Id and Project Key\n      if (!initData?.projectId) {\n        return reject({ results: false, error: \"Project Id is required\" });\n      }\n      const formattedPath = formatPath(path);\n      const urlPath = url\n        ? url\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n          process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n        ? `https://seomanager.dev/api/${version}/${formattedPath}`\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER === \"Test\"\n        ? `http://localhost:3001/api/${version}/${formattedPath}`\n        : `https://testing.seomanager.dev/api/${version}/${formattedPath}`;\n\n      let callHeaders = {\n        X_ProjectId: initData?.projectId,\n        X_ProjectKey: initData?.projectKey || \"\"\n      };\n      if (headers) {\n        callHeaders = { ...callHeaders, ...headers };\n      }\n      const response = await axios(urlPath, {\n        method: method as Method,\n        data: data || {},\n        headers: callHeaders\n      });\n      if (!response?.data?.results) {\n        return resolve(response?.data);\n      }\n      return resolve({ results: response?.data?.results });\n    } catch (err: any) {\n      return resolve({ results: false, data: err?.response?.data });\n    }\n  });\n};\n\nexport const serverSecretCall = (\n  path: string,\n  method: \"put\" | \"post\" = \"put\",\n  data: any,\n  url?: string,\n  headers?: any\n): any => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const initData = returnKey(); //Returns Project Id and Project Key\n\n      if (!initData?.projectId) {\n        return reject({ results: false, error: \"Project Id is required\" });\n      }\n      if (!initData?.secretKey) {\n        return reject({\n          results: false,\n          error: \"Project Secret Key is required\"\n        });\n      }\n\n      const formattedPath = formatPath(path);\n\n      const urlPath = url\n        ? url\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Test\" &&\n          process.env.NEXT_PUBLIC_NODE_ENV_MANAGER !== \"Development\"\n        ? `https://seomanager.dev/api/${version}/${formattedPath}`\n        : process.env.NEXT_PUBLIC_NODE_ENV_MANAGER === \"Test\"\n        ? `http://localhost:3001/api/${version}/${formattedPath}`\n        : `https://testing.seomanager.dev/api/${version}/${formattedPath}`;\n      let callHeaders = {\n        X_ProjectId: initData?.projectId,\n        X_ProjectKey: initData?.projectKey || \"\",\n        X_ProjectSecretKey: initData?.secretKey || \"\"\n      };\n      if (headers) {\n        callHeaders = { ...callHeaders, ...headers };\n      }\n      const response = await axios(urlPath, {\n        method: method as Method,\n        url: urlPath,\n        data: data || {},\n        headers: callHeaders\n      });\n      return resolve(response?.data);\n    } catch (err: any) {\n      return resolve({\n        results: err?.response?.data?.results || false,\n        error: err?.response?.data?.error || true,\n        message:\n          err?.response?.data?.message ||\n          err?.response?.data ||\n          \"There was an error on our end! Please try again in a few minutes!\"\n      });\n    }\n  });\n};\n\nconst formatPath = (path: string) => {\n  let newPath = path;\n  if (newPath[0] === \"/\") {\n    newPath = newPath.replace(\"/\", \"\");\n  }\n  return newPath;\n};\n","import firebase from \"../firebase\";\nimport { getAuth, getIdToken } from \"firebase/auth\";\nconst auth: any = getAuth(firebase);\n\nimport { serverCall } from \"./serverCall\";\n\nexport const fetch = (\n  path: string,\n  headers: any = {}\n): Promise<{ results: boolean; error: string; message: string }> => {\n  console.log(path, headers?.[\"user-agent\"]);\n  return new Promise(async (resolve) => {\n    try {\n      //   if (process.browser) {\n      // throw {\n      //   error:\n      //     \"This function is only allowed to be called in a server environment, not in the client. If you are using NextJS this belong in getServerSideProps or getStaticProps.\"\n      // };\n      //   }\n      if (typeof window !== \"undefined\") {\n        throw {\n          error:\n            \"This function is only allowed to be called in a server environment, not in the client. If you are using NextJS this belong in getServerSideProps or getStaticProps.\"\n        };\n      }\n\n      if (!path) {\n        throw { error: \"You must pass page path!\" };\n      }\n      const { results, error } = await serverCall(\"/seo/server_get\", \"put\", {\n        path,\n        headers: headers || {}\n      });\n      if (!results) {\n        return resolve({\n          results: false,\n          error: error,\n          message: \"No SEO data for this page found\"\n        });\n      }\n      return resolve({ results, error: \"\", message: \"Successful\" });\n    } catch (err: any) {\n      return resolve({\n        results: false,\n        error: err.error,\n        message: \"Not Successful\"\n      });\n    }\n  });\n};\n\nexport const getUserToken = (): Promise<string> => {\n  return new Promise(async (resolve) => {\n    const token = getIdToken(auth.currentUser, true);\n    return resolve(token);\n  });\n};\n","import { fetch } from \"../utilities/fetch\";\nimport { serverSecretCall } from \"../utilities/serverCall\";\nimport {\n  PageIdentifiers,\n  PageSEO,\n  FetchSEOHeaders,\n  PageOptions\n} from \"../types\";\n\n//SEO DATA FETCH\n/**\n * * @name fetchSEO\n * @function\n * @param {string} path - Path to SEO page\n * @param {FetchSEOHeaders} [meta] - {request: context?.req}\n */\nexport const fetchSEO = (path: string, meta: FetchSEOHeaders = {}) => {\n  return new Promise(async (resolve) => {\n    const data = await fetch(path, meta?.request?.headers || {});\n    return resolve(data);\n  });\n};\n\n//VALIDATION\nexport const backendValidation = (queueId: string) => {\n  return new Promise(async (resolve) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"/backend/validate\", \"put\", {\n        queueId\n      });\n      return resolve(response);\n    } catch (err: any) {\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\nexport const checkBackendKeys = () => {\n  const initData: any = returnKey(); //Returns Project Id and Project Key\n  if (!initData?.secretKey) {\n    throw {\n      error:\n        \"Please add a secretKey by calling the SEOInit function SEOInit({secretKey: <<Add Value Here>>. Make sure you initialize this in your Api, not _app.js!\"\n    };\n  }\n  if (!initData?.projectId) {\n    throw {\n      error:\n        \"Please add a projectId by calling the SEOInit function SEOInit({projectId: <<Add Value Here>>. Make sure you initialize this in your Api, not _app.js!\"\n    };\n  }\n};\n\n//BACKEND API\n\n//Insert a new page\n/**\n@name insertSeoPage\n@function\n@param {PageIdentifiers[]} pageIdentifiers - Array of {path [Required], pageId [Optional]}\n@param {PageSEO[]} pageSEO - Array of {title, description}\n*/\nexport function insertSeoPage(\n  pageIdentifiers: PageIdentifiers[],\n  pageSEO: PageSEO[]\n) {\n  return new Promise(async (resolve) => {\n    try {\n      if (pageIdentifiers?.length > 50) {\n        return resolve({\n          results: false,\n          message: \"You are limited to 50 inserts at the same time!\",\n          error: true\n        });\n      }\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/insert\", \"post\", {\n        pageIdentifiers,\n        pageSEO\n      });\n      return resolve(response);\n    } catch (err: any) {\n      console.error(err);\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n}\n\n//Update Existing pages or insert new page\n/**\n@name updateSeoPage - Update a batch of SEO Pages\n@function \n@param {PageIdentifiers[]} pageIdentifiers - Array of {path [Required], pageId [Optional]}\n@param {PageSEO[]} pageSEO - Array of {title, description}\n@param {PageOptions} options - additional options for the batch update\n*/\nexport const updateSeoPage = (\n  pageIdentifiers: PageIdentifiers[],\n  pageSEO: PageSEO[],\n  options: PageOptions\n) => {\n  return new Promise(async (resolve) => {\n    try {\n      if (pageIdentifiers?.length > 50) {\n        return resolve({\n          results: false,\n          message: \"You are limited to 50 updates at the same time!\",\n          error: true\n        });\n      }\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/update\", \"put\", {\n        pageIdentifiers,\n        pageSEO,\n        options\n      });\n      return resolve(response);\n    } catch (err: any) {\n      console.log(\"Error:\", err);\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\n//Delete existing pages\n/**\n@name deleteSeoPage\n@function\n@param {PageIdentifiers[]} pageIdentifiers - Array of {path [Required], pageId [Optional]}\n*/\nexport const deleteSeoPage = (pageIdentifiers: PageIdentifiers[]) => {\n  return new Promise(async (resolve) => {\n    try {\n      if (pageIdentifiers?.length > 50) {\n        return resolve({\n          results: false,\n          message: \"You are limited to 50 deletes at the same time!\",\n          error: true\n        });\n      }\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\"backend/seo/delete\", \"post\", {\n        pageIdentifiers\n      });\n      return resolve(response);\n    } catch (err: any) {\n      return resolve({\n        results: false,\n        message: err?.data?.error || err?.error || \"Something went wrong\",\n        error: true\n      });\n    }\n  });\n};\n\n//Get pages that fit identifiers\n/**\n@name getSeoPages\n@function\n@param {PageIdentifiers} pageIdentifiers - Object of {path [Required], pageId [Optional]}\n*/\nexport const getSeoPages = (pageIdentifiers: PageIdentifiers): Promise<any> => {\n  return new Promise(async (resolve) => {\n    try {\n      checkBackendKeys(); //Checks keys\n      const response = await serverSecretCall(\n        \"backend/seo/getSeoPages\",\n        \"post\",\n        {\n          pageIdentifiers\n        }\n      );\n      return resolve(response);\n    } catch (err: any) {\n      return resolve({\n        results: false,\n        error: true,\n        message: err?.data?.error || err?.error || \"Something went wrong\"\n      });\n    }\n  });\n};\n\n//RETURN KEYS\nconst returnKey = (): {\n  secretKey?: string;\n  projectKey?: string;\n  projectId?: string;\n} => {\n  let object: { secretKey?: string; projectKey?: string; projectId?: string } =\n    {};\n  if (process.env.SEO_MANAGER_MODULE_SECRETKEY) {\n    object.secretKey = process.env.SEO_MANAGER_MODULE_SECRETKEY;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTKEY) {\n    object.projectKey = process.env.SEO_MANAGER_MODULE_PROJECTKEY;\n  }\n  if (process.env.SEO_MANAGER_MODULE_PROJECTID) {\n    object.projectId = process.env.SEO_MANAGER_MODULE_PROJECTID;\n  }\n\n  return object;\n};\n"],"names":["SEOInit","keys","init","returnKey","object","Object","assign","projectId","projectKey","secretKey","process","env","SEO_MANAGER_MODULE_PROJECTID","SEO_MANAGER_MODULE_PROJECTKEY","SEO_MANAGER_MODULE_SECRETKEY","setProject","project","SEO_MANAGER_MODULE_PROJECT","JSON","stringify","returnProject","data","parse","firebaseConfig","NEXT_PUBLIC_NODE_ENV_MANAGER","apiKey","authDomain","storageBucket","messagingSenderId","appId","measurementId","app","_a","getApps","findIndex","a","name","initializeApp","getApp","version","serverSecretCall","path","method","url","headers","Promise","resolve","reject","__awaiter","initData","results","error","formattedPath","formatPath","urlPath","callHeaders","X_ProjectId","X_ProjectKey","X_ProjectSecretKey","response","axios","err","_b","_d","_c","message","_f","_e","_g","newPath","replace","getAuth","fetch","console","log","window","serverCall","fetchSEO","meta","request","backendValidation","queueId","checkBackendKeys","insertSeoPage","pageIdentifiers","pageSEO","this","length","updateSeoPage","options","deleteSeoPage","getSeoPages"],"mappings":"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"}