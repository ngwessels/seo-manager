import{a as t,_ as s}from"./default-43794a81.js";import e from"react";import{connect as r}from"react-redux";import{f as a}from"./firebase-f83deced.js";import{getAuth as o,onAuthStateChanged as i,signInAnonymously as n}from"firebase/auth";import"axios";import"firebase/app";const p=o(a);class c extends e.Component{constructor(e){super(e),t(this,"componentDidMount",(()=>{i(p,(async t=>{t?this.loadUser(t):await n(p)})),p?.currentUser&&this.loadUser(p.currentUser)})),t(this,"loadUser",(async t=>{const e=["owner","admin","editor"];let r=s({},t);if(t){const s=await t.getIdTokenResult(!0);s?.claims?.[this.props?.seoData?.initial?.projectId]&&e.includes(s?.claims?.[this.props?.seoData?.initial?.projectId])?r.authorizedProject=!0:r.authorizedProject=!1}const a={type:"SET_USER",results:JSON.parse(JSON.stringify(r))};this.props.dispatch(a)})),this.state={}}render(){return null}}var d=r((t=>({user:t.user,seoData:t?.seoData})))(c);export{d as default};
