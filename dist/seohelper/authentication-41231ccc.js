import{a as t}from"./default-93f2c96a.js";import s from"react";import{connect as e}from"react-redux";import{f as r}from"./firebase-f83deced.js";import{getAuth as o,onAuthStateChanged as a}from"firebase/auth";import"firebase/app";const i=o(r);class n extends s.Component{constructor(s){super(s),t(this,"componentDidMount",(()=>{a(i,(async t=>{this.loadUser(t)})),i?.currentUser&&this.loadUser(i.currentUser)})),t(this,"loadUser",(async t=>{const s=["owner","admin","editor"];if(t){const e=await t.getIdTokenResult(!0);console.log("CUSTOM CLAIMS:",e,this.props?.seoData?.initial),e?.claims?.[this.props?.seoData?.initial?.projectId]&&s.includes(e?.claims?.[this.props?.seoData?.initial?.projectId])?t.authorizedProject=!0:t.authorizedProject=!1}const e={type:"SET_USER",results:t};this.props.dispatch(e)})),this.state={}}render(){return null}}var c=e((t=>({user:t.user,seoData:t?.seoData})))(n);export{c as default};
