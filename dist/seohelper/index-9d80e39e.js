import e from"react";import{connect as t,Provider as n}from"react-redux";import{combineReducers as s,createStore as a}from"redux";import{_ as o}from"./default-9f303c96.js";var i=a(s({user:(e={isLoggedIn:null},t)=>{var n;let s=o({},e);if("SET_USER"===t.type)s=t.results?t.results:{},s.isLoggedIn=!(null==t||null===(n=t.results)||void 0===n||!n.email);return s},seoData:(e={initial:{},manager:{},plan:{}},t)=>{let n=o({},e);switch(t.type){case"SET_INITIAL_SEO_DATA":n.initial=t.results?t.results:{};break;case"SET_MANAGER_SEO_DATA":n.manager=t.results?t.results:{};break;case"UPDATE_MANAGER_SEO_DATA":n.manager[t.location]=t.results;break;case"SET_MANAGER_PROJECT_PLAN":n.plan=t.results}return n},version:(e="v1",t)=>e}));const r=e.lazy((()=>import("./analytics-9c07b9ce.js"))),l=e.lazy((()=>import("./authentication-3d6a827c.js"))),p=e.lazy((()=>import("./index-6b1e986c.js").then((function(e){return e.i}))));class u extends e.Component{constructor(e){super(e),this.componentDidMount=()=>{var e;if(null===(e=this.props)||void 0===e?void 0:e.data){const e={type:"SET_INITIAL_SEO_DATA",results:this.props.data};this.props.dispatch(e)}},this.componentDidUpdate=e=>{var t;if(JSON.stringify(null==e?void 0:e.data)!==JSON.stringify(null===(t=this.props)||void 0===t?void 0:t.data)){const e={type:"SET_INITIAL_SEO_DATA",results:this.props.data};this.props.dispatch(e)}},this.clickToOpenManager=()=>{var e;(null===(e=this.props)||void 0===e?void 0:e.onOpen)&&this.props.onOpen(),this.setState({isManagerOpen:!0,authentication:!0})},this.clickToCloseManager=()=>{var e;this.setState({isManagerOpen:!1}),(null===(e=this.props)||void 0===e?void 0:e.onClose)&&this.props.onClose()},this.onChangeComplete=e=>{var t,n;this.setState({isManagerOpen:!1}),(null===(t=this.props)||void 0===t?void 0:t.onChangeComplete)&&this.props.onChangeComplete(e),(null===(n=this.props)||void 0===n?void 0:n.onClose)&&this.props.onClose()},this.state={authentication:!0===(null==e?void 0:e.isManagerOpen),isManagerOpen:!0===(null==e?void 0:e.isManagerOpen)},!0===(null==e?void 0:e.isManagerOpen)&&(null==e?void 0:e.onOpen)&&(null==e||e.onOpen())}render(){var t,n,s;return e.createElement(e.Fragment,null,e.createElement("button",{type:"button",id:"open-seo-manager",style:{display:"none"},onClick:this.clickToOpenManager}),e.createElement(e.Suspense,{fallback:e.createElement(e.Fragment,null)},e.createElement(r,null),(null===(t=this.state)||void 0===t?void 0:t.authentication)&&e.createElement(l,null),!0===this.state.isManagerOpen&&e.createElement(p,{data:null===(n=this.props)||void 0===n?void 0:n.data,isNewPage:null===(s=this.props)||void 0===s?void 0:s.isNewPage,onClose:this.clickToCloseManager,onChangeComplete:this.onChangeComplete})))}}var c=t((e=>({user:null==e?void 0:e.user})))(u);class d extends e.Component{constructor(e){super(e)}render(){return e.createElement(n,{store:i},e.createElement(c,Object.assign({},this.props)))}}export{d as default};
