import{_ as e,a as t}from"./_tslib-43a23774.js";import i from"react";import{connect as n}from"react-redux";import l from"prop-types";import{f as o}from"./firebase-f83deced.js";import{getAuth as a,getIdToken as s,signOut as r}from"firebase/auth";import d from"react-draggable";import{Button as p,DialogTitle as c,IconButton as u,DialogContent as v,Grid as m,TextField as h,DialogActions as g,Typography as f,CircularProgress as x,Box as b,Tabs as E,Tab as y,Autocomplete as w,Chip as C,FormControl as I,InputLabel as D,Select as j,MenuItem as _}from"@mui/material";import{MdClose as S,MdOutlineInfo as N,MdOutlineArrowBack as A,MdOutlineArrowForward as k}from"react-icons/md";import P from"@mui/lab/LoadingButton";import T from"axios";import{r as O,s as L}from"./index-6b1e986c.js";import F from"@mui/material/LinearProgress";import{getStorage as z,ref as R,deleteObject as U,uploadBytesResumable as M,getDownloadURL as $}from"firebase/storage";import{B}from"./BootstrapDialog-12d92754.js";import"firebase/app";import"@mui/material/styles";const q=(t,i="put",n,l,o)=>new Promise(((a,s)=>e(void 0,void 0,void 0,(function*(){var e,r,d;try{const r=O();if(!(null==r?void 0:r.projectId))return s({results:!1,error:"Project Id is required"});const d=X(t),p=l||("Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://v1.seomanager.dev/${d}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3002/${d}`:`https://v1-testing.seomanager.dev/${d}`);let c={X_ProjectId:null==r?void 0:r.projectId,X_ProjectKey:(null==r?void 0:r.projectKey)||""};o&&(c=Object.assign(Object.assign({},c),o));const u=yield T(p,{method:i,data:n||{},headers:c});return a(Object.assign(Object.assign({},(null==u?void 0:u.data)||{}),{results:null===(e=null==u?void 0:u.data)||void 0===e?void 0:e.results,statusCode:u.status}))}catch(e){return console.log("SERVER CALL ERROR:",e),a(Object.assign(Object.assign({},(null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.data)||{}),{results:!1,data:null===(d=null==e?void 0:e.response)||void 0===d?void 0:d.data,statusCode:e.response.status}))}})))),X=e=>{let t=e;return"/"===t[0]&&(t=t.replace("/","")),t},G=a(o);class W extends i.Component{constructor(t){super(t),this.componentDidMount=()=>{this.init()},this.componentWillUnmount=()=>{this.state.interval&&(clearInterval(this.state.interval),this.setState({interval:null}))},this.init=()=>{const t=setInterval((()=>e(this,void 0,void 0,(function*(){this.setUserToken()}))),6e4);this.setUserToken(),this.setState({interval:t})},this.setUserToken=()=>e(this,void 0,void 0,(function*(){const t=yield new Promise((t=>e(void 0,void 0,void 0,(function*(){const e=s(G.currentUser,!0);return t(e)}))));this.setState({userToken:t})})),this.openWindow=()=>{var e,t,i,n,l,o,a,s,r;const d="Test"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER&&"Development"!==process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`https://seomanager.dev/dashboard/?userToken=${this.state.userToken}&projectId=${null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.seoData)||void 0===t?void 0:t.manager)||void 0===i?void 0:i.projectId}`:"Test"===process.env.NEXT_PUBLIC_NODE_ENV_MANAGER?`http://localhost:3001/dashboard/?userToken=${this.state.userToken}&projectId=${null===(o=null===(l=null===(n=this.props)||void 0===n?void 0:n.seoData)||void 0===l?void 0:l.manager)||void 0===o?void 0:o.projectId}`:`https://testing.seomanager.dev/dashboard/?userToken=${this.state.userToken}&projectId=${null===(r=null===(s=null===(a=this.props)||void 0===a?void 0:a.seoData)||void 0===s?void 0:s.manager)||void 0===r?void 0:r.projectId}`;window.open(d,"_blank")},this.state={interval:null,userToken:""}}render(){var e,t;return(null===(t=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href)||void 0===t?void 0:t.includes("seomanager.dev/dashboard"))?null:this.state.userToken?i.createElement(i.Fragment,null,i.createElement(p,{variant:"text",onClick:this.openWindow,type:"button",className:"nextjs-seo-manager__button"},"Open Dashboard")):null}}var H=n((e=>({user:null==e?void 0:e.user,seoData:null==e?void 0:e.seoData})))(W);!function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===i&&n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}('/* Photos */\n\n.file-upload .file-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 140px;\n  opacity: 0;\n  outline: none;\n  cursor: pointer;\n}\n\n.file-upload .overlay {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  z-index: 1;\n}\n\n.icon {\n  width: 75px;\n  margin-bottom: 1rem;\n}\n\n@media (max-width: 600px) {\n  .icon {\n    width: 50px;\n  }\n}\n\n.delete-btn-container {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  width: 100%;\n  height: 100%;\n  left: 0px;\n  top: 0px;\n}\n\n.delete-btn {\n  background: #2d3039;\n  margin: 20px auto;\n  width: 200px;\n  height: 50px;\n  overflow: hidden;\n  text-align: center;\n  transition: 0.4s;\n  cursor: pointer;\n  border-radius: 3px;\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.2);\n  z-index: 20;\n}\n\n.delete-btnText {\n  color: white;\n  transition: 0.3s;\n}\n.delete-btn:hover .delete-hoverBtn {\n  left: 0px;\n}\n.delete-btn:hover a {\n  margin-left: 65px;\n}\n.delete-hoverBtn {\n  position: relative;\n  width: 200px;\n  height: 100px;\n  margin-top: -100px;\n  padding-top: 2px;\n  background: #ed5565;\n  left: -250px;\n  transition: 0.3s;\n}\n.delete-hoverText {\n  margin-top: 55px;\n  margin-right: 0px;\n  text-align: center;\n  color: #fafafa;\n}\n.delete-hoverBtn:active {\n  box-shadow: 0px 5px 6px rgba(0, 0, 0, 0.3);\n  background-color: #da4453;\n}\n\n.fileViewer {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: flex-start;\n  max-height: 500;\n  padding-top: 20;\n  padding-bottom: 20;\n  border-top: #e3e3e3 solid 1px;\n  border-bottom: #e3e3e3 solid 1px;\n}\n\n.image-container {\n  width: 150px;\n  height: 150px;\n  margin: 10px;\n  border-radius: 2;\n}\n\n.file-details-section {\n  width: 45%;\n}\n\n@media only screen and (max-width: 600px) {\n  .fileViewer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    max-height: 500;\n    padding-top: 20;\n    padding-bottom: 20;\n    border-top: 1px solid #e3e3e3;\n    border-bottom: 1px solid #e3e3e3;\n  }\n  .image-container {\n    width: 120px;\n    height: 120px;\n  }\n  .file-details-section {\n    width: 100%;\n  }\n}\n\n.carousel-frame-design {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  width: 100%;\n  height: min(calc(90vh - 10px), 350px);\n  overflow: hidden;\n  background-color: white;\n  cursor: pointer;\n  box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0.1);\n  -webkit-box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0.1);\n  -moz-box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0.1);\n  transition: box-shadow 0.3s ease-in-out;\n  border: 1px #22211f dashed;\n}\n.carousel-frame-design:hover {\n  box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0.3);\n  -webkit-box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0.3);\n  -moz-box-shadow: 1px 2px 13px 1px rgba(34, 33, 31, 0);\n}\n\n.carousel-frame-design .carousel-slide {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-width: 100%;\n}\n\n.carousel-slide img {\n  width: auto;\n  height: auto;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.carousel-prev {\n  position: absolute;\n  top: 50%;\n  left: 30px;\n  margin-top: -15px;\n  z-index: 10;\n  font-size: 30px;\n  color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n}\n\n.carousel-next {\n  position: absolute;\n  top: 50%;\n  right: 30px;\n  margin-top: -15px;\n  z-index: 10;\n  font-size: 30px;\n  color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n}\n\n.carousel-addPhotos {\n  position: absolute;\n  top: 10%;\n  right: 30px;\n  margin-top: -15px;\n  z-index: 10;\n  background-color: transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n\n.carousel-dots {\n  list-style: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 5%;\n  margin: 0 auto;\n  width: max(100px, 15%);\n  display: flex;\n  justify-content: space-between;\n}\n\n.carousel-dots li {\n  width: 8px;\n  height: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\n}\n\n.carousel-dots .active-dot {\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\n.event-box {\n  -webkit-box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.27);\n  box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.27);\n  transition: box-shadow 0.4s ease-in;\n  cursor: pointer;\n  width: 48%;\n  height: 50px;\n  min-width: 250px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.event-box:hover {\n  -webkit-box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.55);\n  box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.55);\n}\n\n/* Basic Styles for entire component */\n\n.nextjs-seo-manager__title {\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-size: 20px;\n}\n\n.nextjs-seo-manager__p {\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-size: 1rem;\n  font-weight: 400;\n}\n\n.nextjs-seo-manager__button {\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 500;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n}\n\n.nextjs-seo-manager__label {\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  font-size: 10rem;\n}\n\n.nextjs-seo-manager__input {\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n}\n'),a(o);const V=z(o);class J extends i.Component{constructor(t){super(t),this.componentDidMount=()=>{},this.deleteFile=()=>e(this,void 0,void 0,(function*(){this.setState({deleteLoading:!0});if("yes"===prompt("Are you sure you want to delete this file? (yes or no)")){alert(`File Location: ${this.props.file.location}`);const e=R(V,this.props.file.location);yield U(e),this.props.onDelete(this.props.file,this.props.idx),this.setState({deleteLoading:!1}),this.props.onClose()}this.setState({deleteLoading:!1})})),this.state={deleteLoading:!1}}render(){var e,t,n,l;return i.createElement(i.Fragment,null,i.createElement(B,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},i.createElement(c,{sx:{m:0,p:2}},"File Details",i.createElement(u,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},i.createElement(S,null))),i.createElement(v,null,i.createElement(m,{item:!0,xs:12,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},this.props.isImage&&i.createElement(m,{className:"file-details-section",mt:2},i.createElement("img",{src:this.props.file.url,width:(null===(t=null===(e=this.props.file)||void 0===e?void 0:e.dimensions)||void 0===t?void 0:t.width)||"100%",height:(null===(l=null===(n=this.props.file)||void 0===n?void 0:n.dimensions)||void 0===l?void 0:l.height)||"auto",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",zIndex:0}})),i.createElement(m,{className:"file-details-section",mt:2},i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"fileId",label:"File Id",variant:"standard",placeholder:"",value:this.props.file.fileId,style:{width:"100%"},disabled:!0})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"fileName",label:"File Name",variant:"standard",placeholder:"",value:this.props.file.fileName,style:{width:"100%"},disabled:!0})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"contentType",label:"Content Type",variant:"standard",placeholder:"",value:this.props.file.contentType,style:{width:"100%"},disabled:!0})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"fileSize",label:"File Size",variant:"standard",placeholder:"",value:`${this.props.file.size} bytes`,style:{width:"100%"},disabled:!0})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"url",label:"File Url",variant:"standard",placeholder:"",value:this.props.file.url,style:{width:"100%"},disabled:!0})),this.props.file.dimensions&&i.createElement(i.Fragment,null,i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"fileWidth",label:"Image Width",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.width}px`,style:{width:"100%"},disabled:!0})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"fileHeight",label:"Image Height",variant:"standard",placeholder:"",value:`${this.props.file.dimensions.height}px`,style:{width:"100%"},disabled:!0}))),this.props.file.timeStamp&&i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"date",label:"File Uploaded on",variant:"standard",placeholder:"",value:new Date(this.props.file.timeStamp).toString(),style:{width:"100%"},disabled:!0}))))),i.createElement(g,null,i.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},i.createElement(p,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button"},"Close"),i.createElement(P,{variant:"text",onClick:this.deleteFile,type:"button",loading:this.state.deleteLoading},"Delete"))))))}}class K extends i.Component{constructor(e){super(e),this.isImage=()=>this.state.imageTypes.find((e=>e===this.props.item.contentType)),this.state={imageTypes:["image/png","image/jpg","image/jpeg","image/webp","image/apng","image/avif","image/gif","image/svg+xml"],fileDetail:!1}}render(){var e,t,n,l,o;const a=this.isImage();return i.createElement(i.Fragment,null,i.createElement(J,{onClose:()=>{this.setState({fileDetail:!1})},open:this.state.fileDetail,onDelete:this.props.onDelete,file:this.props.item,idx:this.props.idx,isImage:a}),i.createElement("div",{style:{border:this.props.isClicked?"2px solid #8a8a8a":"1px dashed #e3e3e3"},className:"image-container"},i.createElement("div",{style:{width:"100%",position:"relative"}},i.createElement("div",{style:{position:"absolute",right:-15,top:-15}},i.createElement(N,{size:"1.5em",onClick:()=>{this.setState({fileDetail:!0})},style:{cursor:"pointer",backgroundColor:"white",borderRadius:100}}))),a&&i.createElement("img",{src:null===(e=this.props.item)||void 0===e?void 0:e.url,width:(null===(n=null===(t=this.props.item)||void 0===t?void 0:t.dimensions)||void 0===n?void 0:n.width)||"100%",height:(null===(o=null===(l=this.props.item)||void 0===l?void 0:l.dimensions)||void 0===o?void 0:o.height)||"auto",onClick:this.props.onClick,style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",zIndex:0}}),!a&&i.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",cursor:"pointer"},onClick:this.props.onClick},i.createElement(f,{textAlign:"center"},this.props.item.fileName||this.props.item.contentType))))}}var Y=n((e=>({user:null==e?void 0:e.user,seoData:null==e?void 0:e.seoData})))(K);const Q=z(o),Z=a(o);class ee extends i.Component{constructor(t){super(t),this.componentDidMount=()=>{},this.componentDidUpdate=e=>{!0===this.props.open&&!1===e.open&&(this.setState({loading:!0,selected:!0===this.props.multiple&&this.props.selected?{url:"",fileId:""}:Object.assign({},this.props.selected),selectedArray:!0===this.props.multiple&&this.props.selected?[...this.props.selected]:[]}),this.getData()),!1===this.props.open&&!0===e.open&&(this.setState({loading:!0,selected:{url:"",fileId:""},selectedArray:[],fileError:""}),this.getData()),JSON.stringify(this.props.selected)!==JSON.stringify(e.selected)&&this.setState({selected:!0===this.props.multiple&&this.props.selected?{url:"",fileId:""}:Object.assign({},this.props.selected),selectedArray:!0===this.props.multiple&&this.props.selected?[...this.props.selected]:[]})},this.getData=()=>e(this,void 0,void 0,(function*(){var e,t;const i=yield q("/files/getProjectFiles","put",{},void 0,{X_Authorization:yield null===(e=null==Z?void 0:Z.currentUser)||void 0===e?void 0:e.getIdToken(),AuthorizationId:null===(t=null==Z?void 0:Z.currentUser)||void 0===t?void 0:t.uid});i.results.files.length>0?this.setState({files:i.results.files,loading:!1}):this.setState({loading:!1})})),this.imageClicked=e=>{var t,i;const n={url:e.url,fileId:e.fileId};if(this.props.accept&&!(null===(i=null===(t=this.props)||void 0===t?void 0:t.accept)||void 0===i?void 0:i.includes(null==e?void 0:e.contentType)))return this.setState({fileError:`Only accepting ${this.props.accept}`});if(this.setState({fileError:""}),!0===this.props.multiple){let t=[];this.state.selectedArray&&(t=[...this.state.selectedArray]);const i=t.findIndex((t=>t.fileId===e.fileId));i>=0?(t.splice(i,1),this.setState({selectedArray:t})):(t.push(n),this.setState({selectedArray:t}))}else this.state.selected.fileId===e.fileId?this.setState({selected:{url:"",fileId:""}}):this.setState({selected:n})},this.addFile=e=>{var t,i;const n=((e,t,i)=>{var n,l,o;const a=null==i?void 0:i.payAsYouGo,s=(null==i||null===(n=i.usageReport)||void 0===n?void 0:n.storage_used)||0,r=null==i||null===(l=i.limitations)||void 0===l?void 0:l.storage_used;let d=0,p=[];for(let t in e.target.files){let i=e.target.files[t];if(i&&i.type){const{name:n,size:l,type:o}=e.target.files[t];d+=parseInt(l),i.localURL=URL.createObjectURL(i),p.push({object:i,name:i.name})}}return!a&&s+d>r&&!0!==r?{error:"You cannot add these files as you have hit your storage limit. Consider upgrading your account!"}:(null!=i&&i.usageReport||(i.usageReport={}),null!=i&&null!==(o=i.usageReport)&&void 0!==o&&o.storage_used||(i.usageReport.storage_used=0),i.usageReport.storage_used+=d,L(i),{results:p})})(e,0,null===(i=null===(t=this.props)||void 0===t?void 0:t.seoData)||void 0===i?void 0:i.plan);if(n&&!n.error&&n.results.length>0){let e=n.results;this.uploadNewFile(e)}else n.error&&this.setState({fileError:n.error})},this.uploadNewFile=t=>new Promise(((i,n)=>e(this,void 0,void 0,(function*(){var i,n,l;try{const o=yield null===(i=null==Z?void 0:Z.currentUser)||void 0===i?void 0:i.getIdToken(),a=yield q("/files/generateFileIds","post",{type:"default",qty:t.length+1},void 0,{X_Authorization:o,AuthorizationId:null===(n=null==Z?void 0:Z.currentUser)||void 0===n?void 0:n.uid});console.log("VERSION:",null===(l=this.props)||void 0===l?void 0:l.version);const s=Object.keys(t||[]).map((i=>new Promise(((n,l)=>e(this,void 0,void 0,(function*(){var e,l,s,r,d,p;const c=t[i],u=c.object,v=c.name,m=a.results.photoId[i],h={contentType:u.type,cacheControl:"public,max-age=604800",customMetadata:{type:"default",userIdToken:o,userId:null===(e=null==Z?void 0:Z.currentUser)||void 0===e?void 0:e.uid,fileName:v,fileId:m,projectId:null===(s=null===(l=this.props.seoData)||void 0===l?void 0:l.manager)||void 0===s?void 0:s.projectId,seoManagerVersion:null===(r=this.props)||void 0===r?void 0:r.version}},g=`projects/${null===(p=null===(d=this.props.seoData)||void 0===d?void 0:d.manager)||void 0===p?void 0:p.projectId}/files/${m}`,f=R(Q,g),x=M(f,u,h);return x.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100,i=this.state.uploadProgress;i[m]=t,this.setState({uploadProgress:i})}),(e=>(console.error("Error:",e),n({error:!0,results:!1}))),(()=>{$(x.snapshot.ref).then((e=>{const t={url:e,fileId:m,contentType:u.type,size:u.size,location:g,fileName:v};return n(t)}))}))})))))),r=[...yield Promise.all(s),...this.state.files];this.setState({files:r,fileError:"",uploadProgress:{}})}catch(e){console.error("Error:",e),this.setState({uploadProgress:{}})}})))),this.save=()=>{!0===this.props.multiple?this.props.onChangeComplete(this.state.selectedArray):this.props.onChangeComplete(this.state.selected),this.props.onClose()},this.fileDeleted=(e,t)=>{const i=this.state.files;if(i.splice(t,1),this.setState({files:i}),!0===this.props.multiple){let t=this.state.selectedArray;const i=t.findIndex((t=>t.fileId===e.fileId));i>=0&&(t.splice(i,1),this.setState({selectedArray:t}),this.props.onChangeComplete(t))}else{let t=this.state.selected;e.fileId===t.fileId&&(this.setState({selected:{url:"",fileId:""}}),this.props.onChangeComplete({url:"",fileId:""}))}};const{selected:i,multiple:n}=t;this.state={files:[],loading:!0,selected:!0===n&&i?{url:"",fileId:""}:Object.assign({},i),selectedArray:!0===n&&i?[...i]:[],fileError:"",uploadProgress:{}}}render(){var e,t,n,l,o,a,s,r,d,h,E,y,w,C,I,D,j,_;let N=0,A=0;Object.keys(this.state.uploadProgress).forEach((e=>{const t=this.state.uploadProgress[e];N+=100,A=t}));const k=A/N*100;return i.createElement(i.Fragment,null,i.createElement(B,{onClose:this.props.onClose,"aria-labelledby":"customized-dialog-title",open:this.props.open,maxWidth:!1},i.createElement(c,{sx:{m:0,p:2},className:"nextjs-seo-manager__title"},"File Manager",i.createElement(u,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},i.createElement(S,null))),i.createElement(v,null,this.state.loading&&i.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},i.createElement(x,null)),!1===this.state.loading&&(null===(t=null===(e=this.state)||void 0===e?void 0:e.files)||void 0===t?void 0:t.length)>0&&i.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:150}},i.createElement("div",{style:{},className:"top"},this.props.accept&&i.createElement(m,{item:!0,xs:12,mb:2},i.createElement(f,{textAlign:"center",className:"nextjs-seo-manager__p"},"Only accepting ",this.props.accept))),i.createElement("div",{className:"fileViewer"},this.state.files.map(((e,t)=>{let n=!1;if(!0===this.props.multiple){this.state.selectedArray.find((t=>t.fileId===e.fileId))&&(n=!0)}else this.state.selected.fileId===e.fileId&&(n=!0);return i.createElement(Y,{isClicked:n,key:`Photo-${t}`,onClick:()=>this.imageClicked(e),item:e,idx:t,onDelete:this.fileDeleted})})))),!1===this.state.loading&&0===(null===(l=null===(n=this.state)||void 0===n?void 0:n.files)||void 0===l?void 0:l.length)&&i.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},i.createElement(f,null,"Add your first files"))),i.createElement(g,null,i.createElement("div",{className:"modal-footer",style:{width:"100%",display:"flex",flexDirection:"column"}},!1===this.state.loading&&i.createElement("div",{className:"file-upload carousel-frame-design",style:{width:"100%",height:140,marginBottom:10}},i.createElement("input",{className:"file-input",type:"file",onChange:this.addFile,multiple:!0,style:{zIndex:2}}),i.createElement("iframe",{src:"https://embed.lottiefiles.com/animation/27938",style:{height:"100%",width:"100%",zIndex:0,position:"absolute"}}),i.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",paddingBottom:5}},i.createElement(f,{component:"p",style:{opacity:.5}},i.createElement("i",null,"Click or Drag-n-Drop")))),k<100&&i.createElement(b,{sx:{width:"100%"}},i.createElement(F,{variant:"determinate",value:k})),this.state.fileError&&i.createElement("div",{className:"alert alert-danger d-flex align-items-center mb-3",role:"alert",style:{width:"100%"}},i.createElement(f,null,this.state.fileError)),i.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},i.createElement(p,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button",className:"nextjs-seo-manager__button"},"Close"),i.createElement(f,{align:"center",className:"nextjs-seo-manager__p "},((null===(r=null===(s=null===(a=null===(o=this.props)||void 0===o?void 0:o.seoData)||void 0===a?void 0:a.plan)||void 0===s?void 0:s.usageReport)||void 0===r?void 0:r.storage_used)/(null===(E=null===(h=null===(d=this.props)||void 0===d?void 0:d.seoData)||void 0===h?void 0:h.plan)||void 0===E?void 0:E.mb)).toFixed(2),"MB/",((null===(I=null===(C=null===(w=null===(y=this.props)||void 0===y?void 0:y.seoData)||void 0===w?void 0:w.plan)||void 0===C?void 0:C.limitations)||void 0===I?void 0:I.storage_used)/(null===(_=null===(j=null===(D=this.props)||void 0===D?void 0:D.seoData)||void 0===j?void 0:j.plan)||void 0===_?void 0:_.mb)).toFixed(2),"MB"),i.createElement(P,{variant:"text",onClick:this.save,type:"button",loading:!1,className:"nextjs-seo-manager__button"},"Save"))))))}}var te=n((e=>({user:null==e?void 0:e.user,seoData:null==e?void 0:e.seoData,version:null==e?void 0:e.version})))(ee);class ie extends i.Component{constructor(e){var t,i;super(e),this.componentDidUpdate=e=>{var t,i,n,l;JSON.stringify(e.files)!==JSON.stringify(this.props.files)&&(this.setState({files:""!==(null===(n=null===(i=null===(t=this.props)||void 0===t?void 0:t.files)||void 0===i?void 0:i[0])||void 0===n?void 0:n.url)?Object.keys((null===(l=this.props)||void 0===l?void 0:l.files)||[]).map((e=>{var t;return(null===(t=this.props)||void 0===t?void 0:t.files[e]).url})):[]}),this.props.files.length>0?this.compileData():this.state.autoAdvancedInterval&&clearInterval(this.state.autoAdvancedInterval))},this.componentDidMount=()=>{this.props.files.length>0&&this.compileData()},this.compileData=()=>{setTimeout((()=>{const e=Array.from(document.querySelectorAll(".carousel-frame")),t=e=>{const t=e.querySelector(".carousel-slide"),i=function(){let t=e.querySelectorAll(".carousel-slide img");const i=t[0].cloneNode(),n=t[t.length-1].cloneNode();return i.className="first-clone",n.className="last-clone",t=e.querySelectorAll(".carousel-slide img"),t}(),n=null==e?void 0:e.querySelector(".carousel-prev"),l=null==e?void 0:e.querySelector(".carousel-next"),o=Array.from(e.querySelectorAll(".carousel-dots li"));let a=1;function s(){a>=i.length-1||(t.style.transition="transform 400ms",a++,t.style.transform=`translateX(-${100*(a>1?a:2)}%)`)}function r(){a<=0||(t.style.transition="transform 400ms",a--,t.style.transform=`translateX(-${100*a}%)`)}function d(e){t.style.transition="transform 400ms",a=1+o.indexOf(e.target),t.style.transform=`translateX(-${100*a}%)`}const p=()=>{!0===this.state.started&&(null==l||l.removeEventListener("click",s),null==n||n.removeEventListener("click",r)),null==l||l.addEventListener("click",s),null==n||n.addEventListener("click",r)},c=()=>{o.forEach((e=>{!0===this.state.started&&(null==e||e.removeEventListener("click",d)),null==e||e.addEventListener("click",d)}))},u=()=>{const e=()=>{i[a].classList.contains("last-clone")&&(t.style.transition="none",a=i.length-2,t.style.transform=`translateX(-${100*a}%)`),i[a].classList.contains("first-clone")&&(t.style.transition="none",a=i.length-a,t.style.transform=`translateX(-${100*a}%)`),o.forEach((e=>{o.indexOf(e)===a-1?e.classList.add("active-dot"):e.classList.remove("active-dot")}))};!0===this.state.started&&(null==t||t.removeEventListener("transitionend",e)),t.addEventListener("transitionend",e)};o.length&&o[0].classList.add("active-dot"),c(),p(),u(),this.setState({started:!0})};e.forEach((e=>t(e)))}),100)},this.state={files:""!==(null===(i=null===(t=null==e?void 0:e.files)||void 0===t?void 0:t[0])||void 0===i?void 0:i.url)?Object.keys((null==e?void 0:e.files)||[]).map((t=>(null==e?void 0:e.files[t]).url)):[],openPhotoManager:!1,autoAdvancedInterval:null,started:!1}}render(){return i.createElement(i.Fragment,null,i.createElement(te,{open:this.state.openPhotoManager,onChangeComplete:this.props.onChangeComplete,onClose:()=>{this.setState({openPhotoManager:!1})},multiple:this.props.multiple,selected:!0===this.props.multiple?this.props.files:this.props.files[0],accept:this.props.accept}),this.state.files.length>0&&i.createElement("div",{className:"carousel-frame-design carousel-frame",onClick:()=>{this.setState({openPhotoManager:!0})}},i.createElement("div",{className:"carousel-slide"},Object.keys(this.state.files||[]).map((e=>{const t=this.state.files[e];return i.createElement("img",{src:t,key:`file-${e}`})}))),this.state.files.length>1&&i.createElement(i.Fragment,null,i.createElement("div",{className:"carousel-prev"},i.createElement(A,{size:"1.5em"})),i.createElement("div",{className:"carousel-next"},i.createElement(k,{size:"1.5em"})),i.createElement("ol",{className:"carousel-dots"},Object.keys(this.state.files||[]).map((e=>i.createElement("li",{key:`file-${e}`})))))),0===this.state.files.length&&i.createElement(i.Fragment,null,i.createElement("div",{className:"carousel-frame-design",style:{height:300,cursor:"pointer"},onClick:()=>{this.setState({openPhotoManager:!0})}},i.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",paddingBottom:20,position:"absolute",zIndex:1}},i.createElement(f,{component:"p",style:{opacity:.5}},i.createElement("i",null,"Click to Select or Upload File"))),i.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.createElement("iframe",{src:"https://embed.lottiefiles.com/animation/27938",style:{height:"100%",width:"100%"}})))))}}var ne=n((e=>({user:null==e?void 0:e.user,seoData:null==e?void 0:e.seoData})))(ie);const le=a(o);class oe extends i.Component{constructor(t){super(t),this.componentDidMount=()=>e(this,void 0,void 0,(function*(){var t;this.props.onIsLoading(!0),this.setState({loading:!0}),null===(t=null==le?void 0:le.currentUser)||void 0===t||t.getIdToken().then((t=>e(this,void 0,void 0,(function*(){var e,i,n,l,o,a,s,r,d,p;const c=yield q("/seo/authorized_get","put",{path:(null===(l=null===(n=null===(i=null===(e=this.props)||void 0===e?void 0:e.seoData)||void 0===i?void 0:i.initial)||void 0===n?void 0:n.page)||void 0===l?void 0:l.path)||""},void 0,{X_Authorization:t,AuthorizationId:null===(o=null==le?void 0:le.currentUser)||void 0===o?void 0:o.uid});if(null===(a=null==c?void 0:c.results)||void 0===a?void 0:a.seoRequest){const e={type:"SET_MANAGER_SEO_DATA",results:null===(s=null==c?void 0:c.results)||void 0===s?void 0:s.seoRequest};this.props.dispatch(e)}if(null===(r=null==c?void 0:c.results)||void 0===r?void 0:r.plan){const e={type:"SET_MANAGER_PROJECT_PLAN",results:null===(d=null==c?void 0:c.results)||void 0===d?void 0:d.plan};this.props.dispatch(e)}this.setState({loading:!1,isNewPage:!!(null===(p=null==c?void 0:c.results)||void 0===p?void 0:p.isNewPage)}),setTimeout((()=>{this.props.onIsLoading(!1)}),1e3)})))),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.setState({isMobile:!0}):this.setState({isMobile:!1})})),this.onPageChange=(e,t)=>{var i,n,l;let o=Object.assign({},null===(l=null===(n=null===(i=this.props)||void 0===i?void 0:i.seoData)||void 0===n?void 0:n.manager)||void 0===l?void 0:l.page);o[t]=e;const a={type:"UPDATE_MANAGER_SEO_DATA",location:"page",results:o};this.props.dispatch(a);let s=this.state.savedLocations;s.page=!0,this.setState({savedLocations:s})},this.onGlobalChange=(e,t)=>{var i,n,l;let o=Object.assign({},null===(l=null===(n=null===(i=this.props)||void 0===i?void 0:i.seoData)||void 0===n?void 0:n.manager)||void 0===l?void 0:l.global);o[t]=e;const a={type:"UPDATE_MANAGER_SEO_DATA",location:"global",results:o};this.props.dispatch(a);let s=this.state.savedLocations;s.global=!0,this.setState({savedLocations:s})},this.addPerformAction=(e,t)=>{let i=this.state.performActionOnUpdate;i[t]=e,this.setState({performActionOnUpdate:i})},this.saveData=()=>{var t;this.setState({saving:!0}),null===(t=null==le?void 0:le.currentUser)||void 0===t||t.getIdToken().then((t=>e(this,void 0,void 0,(function*(){var i,n,l,o,a,s;const r=Object.keys(this.state.performActionOnUpdate||[]).map((t=>e(this,void 0,void 0,(function*(){const e=this.state.performActionOnUpdate[t];return e&&e.action&&(yield e.action()),!0}))));if(yield Promise.all(r),!0===this.state.isNewPage){const e=yield q("/seo/create","post",{data:null===(n=null===(i=this.props)||void 0===i?void 0:i.seoData)||void 0===n?void 0:n.manager,savedLocations:this.state.savedLocations},void 0,{X_Authorization:t,AuthorizationId:null===(l=null==le?void 0:le.currentUser)||void 0===l?void 0:l.uid});(null==e?void 0:e.results)&&this.props.onChangeComplete&&this.props.onChangeComplete(null==e?void 0:e.results),this.setState({saving:!1})}else{const e=yield q("/seo/update","put",{data:null===(a=null===(o=this.props)||void 0===o?void 0:o.seoData)||void 0===a?void 0:a.manager,savedLocations:this.state.savedLocations},void 0,{X_Authorization:t,AuthorizationId:null===(s=null==le?void 0:le.currentUser)||void 0===s?void 0:s.uid});(null==e?void 0:e.results)&&this.props.onChangeComplete&&this.props.onChangeComplete(null==e?void 0:e.results),this.setState({saving:!1})}}))))},this.authSignOut=()=>e(this,void 0,void 0,(function*(){yield r(le)})),this.state={loading:!0,saving:!1,newImage:"",file:null,performActionOnUpdate:{},photoManager:!0,tabIndex:0,savedLocations:{},isNewPage:!1,isMobile:!0}}render(){var e,t,n,l,o,a,s,r,f,x,N,A,k,T,O,L,F,z,R,U,M,$,q,X,G,W,V,J,K,Y,Q,Z,ee,te,ie,le,oe,ae,de,pe,ce,ue,ve,me,he,ge,fe,xe,be,Ee,ye,we,Ce,Ie,De,je,_e,Se,Ne,Ae,ke,Pe,Te,Oe,Le,Fe,ze,Re,Ue,Me,$e,Be,qe,Xe,Ge,We,He,Ve,Je,Ke,Ye,Qe,Ze,et;return!0===(null===(e=this.props)||void 0===e?void 0:e.isLoading)?null:i.createElement(d,{disabled:!0},i.createElement(B,{onClose:(e,t)=>{"backdropClick"!==t&&this.props.onClose()},"aria-labelledby":"SEO Manager Login",open:!0,maxWidth:!1,style:{zIndex:100},hideBackdrop:!0},i.createElement(c,{sx:{m:0,p:2},className:"nextjs-seo-manager__title"},"SEO Manager",i.createElement(u,{"aria-label":"close",onClick:this.props.onClose,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},i.createElement(S,null))),i.createElement(v,{dividers:!0},i.createElement(m,{item:!0,xs:12},i.createElement(b,{sx:{borderBottom:1,borderColor:"divider"}},i.createElement(E,{value:this.state.tabIndex,onChange:(e,t)=>{this.setState({tabIndex:t})},"aria-label":"Select SEO Manager Options"},i.createElement(y,Object.assign({label:"Page"},re(0),{className:"nextjs-seo-manager__button"})),i.createElement(y,Object.assign({label:"Global"},re(1),{className:"nextjs-seo-manager__button"})),i.createElement(y,Object.assign({label:"Account"},re(3),{className:"nextjs-seo-manager__button"}))))),i.createElement(m,{item:!0,xs:12,mt:2,display:"flex",justifyContent:"center"},i.createElement(H,null)),i.createElement(se,{value:this.state.tabIndex,index:0},i.createElement(m,{item:!0,xs:12},i.createElement("div",{className:"form-floating mb-3"},i.createElement(ne,{files:(null===(o=null===(l=null===(n=null===(t=this.props)||void 0===t?void 0:t.seoData)||void 0===n?void 0:n.manager)||void 0===l?void 0:l.page)||void 0===o?void 0:o.image)?[null===(f=null===(r=null===(s=null===(a=this.props)||void 0===a?void 0:a.seoData)||void 0===s?void 0:s.manager)||void 0===r?void 0:r.page)||void 0===f?void 0:f.image]:[{url:"",fileId:""}],onChangeComplete:e=>{const t=(null==e?void 0:e.url)?e:{url:"",fileId:""};this.onPageChange(t,"image")},multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/webp"}))),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"page-path",label:"Page Path",variant:"standard",placeholder:"",value:(null===(k=null===(A=null===(N=null===(x=this.props)||void 0===x?void 0:x.seoData)||void 0===N?void 0:N.manager)||void 0===A?void 0:A.page)||void 0===k?void 0:k.path)||"",style:{width:"100%"},onChange:e=>{let t=e.target.value;"/"!==(null==t?void 0:t[0])&&(t=`/${t}`),this.onPageChange(t,"path")}})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"title",label:"Title",variant:"standard",placeholder:"Home - Stark Industries",onChange:e=>{this.onPageChange(e.target.value,"title")},value:(null===(F=null===(L=null===(O=null===(T=this.props)||void 0===T?void 0:T.seoData)||void 0===O?void 0:O.manager)||void 0===L?void 0:L.page)||void 0===F?void 0:F.title)||"",style:{width:"100%"},helperText:`${(null===($=null===(M=null===(U=null===(R=null===(z=this.props)||void 0===z?void 0:z.seoData)||void 0===R?void 0:R.manager)||void 0===U?void 0:U.page)||void 0===M?void 0:M.title)||void 0===$?void 0:$.length)||0} of 60 (recommended)`})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"description",label:"Description",variant:"standard",placeholder:"",onChange:e=>{this.onPageChange(e.target.value,"description")},value:null===(W=null===(G=null===(X=null===(q=this.props)||void 0===q?void 0:q.seoData)||void 0===X?void 0:X.manager)||void 0===G?void 0:G.page)||void 0===W?void 0:W.description,style:{width:"100%"},multiline:!0,helperText:`${(null===(Q=null===(Y=null===(K=null===(J=null===(V=this.props)||void 0===V?void 0:V.seoData)||void 0===J?void 0:J.manager)||void 0===K?void 0:K.page)||void 0===Y?void 0:Y.description)||void 0===Q?void 0:Q.length)||0} of 160 (recommended)`})),i.createElement(m,{item:!0,mb:1},i.createElement(w,{multiple:!0,id:"tags-keywords",options:[],value:(null===(ie=null===(te=null===(ee=null===(Z=this.props)||void 0===Z?void 0:Z.seoData)||void 0===ee?void 0:ee.manager)||void 0===te?void 0:te.page)||void 0===ie?void 0:ie.keywordsArray)||[],freeSolo:!0,onChange:(e,t)=>{this.onPageChange(t,"keywordsArray")},renderTags:(e,t)=>e.map(((e,n)=>i.createElement(C,Object.assign({variant:"outlined",label:e},t({index:n}))))),renderInput:e=>i.createElement(h,Object.assign({},e,{variant:"standard",label:"Keywords",placeholder:"Add Keywords"}))})),i.createElement(m,{item:!0,mb:1},i.createElement(I,{variant:"standard",sx:{minWidth:"100%"}},i.createElement(D,{id:"follow"},"Should search engines follow the page?"),i.createElement(j,{labelId:"follow",id:"follow-select",value:null===(de=null===(ae=null===(oe=null===(le=this.props)||void 0===le?void 0:le.seoData)||void 0===oe?void 0:oe.manager)||void 0===ae?void 0:ae.page)||void 0===de?void 0:de.follow,onChange:e=>{this.onPageChange(e.target.value,"follow")},label:"Should search engines follow the page?",style:{zIndex:10}},i.createElement(_,{value:""},"Select Follow Option"),i.createElement(_,{value:"follow"},"Follow"),i.createElement(_,{value:"nofollow"},"No Follow")))),i.createElement(m,{item:!0,mb:1},i.createElement(I,{variant:"standard",sx:{minWidth:"100%"}},i.createElement(D,{id:"index"},"Should search engines index the page?"),i.createElement(j,{labelId:"index",id:"index-select",value:null===(ve=null===(ue=null===(ce=null===(pe=this.props)||void 0===pe?void 0:pe.seoData)||void 0===ce?void 0:ce.manager)||void 0===ue?void 0:ue.page)||void 0===ve?void 0:ve.index,onChange:e=>{this.onPageChange(e.target.value,"index")},label:"Should search engines index the page?"},i.createElement(_,{value:""},"Select Index Option"),i.createElement(_,{value:"index"},"Index"),i.createElement(_,{value:"noindex"},"No Index")))),i.createElement(m,{item:!0,mb:1},i.createElement(I,{variant:"standard",sx:{minWidth:"100%"}},i.createElement(D,{id:"changeFreq"},"How often will the content change?"),i.createElement(j,{labelId:"changeFreq",id:"changeFreq-select",value:null===(fe=null===(ge=null===(he=null===(me=this.props)||void 0===me?void 0:me.seoData)||void 0===he?void 0:he.manager)||void 0===ge?void 0:ge.page)||void 0===fe?void 0:fe.changeFreq,onChange:e=>{this.onPageChange(e.target.value,"changeFreq")},label:"How often will the content change?"},i.createElement(_,null,"Select Frequency"),i.createElement(_,{value:"always"},"Always"),i.createElement(_,{value:"daily"},"Daily"),i.createElement(_,{value:"weekly"},"Weekly"),i.createElement(_,{value:"monthly"},"Monthly"),i.createElement(_,{value:"yearly"},"Yearly"),i.createElement(_,{value:"never"},"Never")))),i.createElement(m,{item:!0,mb:1},i.createElement(I,{variant:"standard",sx:{minWidth:"100%"}},i.createElement(D,{id:"priority"},"Page Prority (10 Highest)"),i.createElement(j,{labelId:"priority",id:"priority-select",value:null===(ye=null===(Ee=null===(be=null===(xe=this.props)||void 0===xe?void 0:xe.seoData)||void 0===be?void 0:be.manager)||void 0===Ee?void 0:Ee.page)||void 0===ye?void 0:ye.priority,onChange:e=>{this.onPageChange(e.target.value,"priority")},label:"Page Priority (10 being the highest)"},i.createElement(_,null,"Select Page Priority"),i.createElement(_,{value:.1},"1"),i.createElement(_,{value:.2},"2"),i.createElement(_,{value:.3},"3"),i.createElement(_,{value:.4},"4"),i.createElement(_,{value:.5},"5"),i.createElement(_,{value:.6},"6"),i.createElement(_,{value:.7},"7"),i.createElement(_,{value:.8},"8"),i.createElement(_,{value:.9},"9"),i.createElement(_,{value:1},"10")))),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"ldJson",label:"Structured Data",variant:"standard",placeholder:"",onChange:e=>{this.onPageChange(e.target.value,"ldJson")},value:null===(De=null===(Ie=null===(Ce=null===(we=this.props)||void 0===we?void 0:we.seoData)||void 0===Ce?void 0:Ce.manager)||void 0===Ie?void 0:Ie.page)||void 0===De?void 0:De.ldJson,style:{width:"100%"},multiline:!0}))),i.createElement(se,{value:this.state.tabIndex,index:1},i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"default-title",label:"Default Title",variant:"standard",placeholder:"",onChange:e=>{this.onGlobalChange(e.target.value,"defaultTitle")},value:null===(Ne=null===(Se=null===(_e=null===(je=this.props)||void 0===je?void 0:je.seoData)||void 0===_e?void 0:_e.manager)||void 0===Se?void 0:Se.global)||void 0===Ne?void 0:Ne.defaultTitle,style:{width:"100%"},multiline:!0,helperText:`${(null===(Te=null===(Pe=null===(ke=null===(Ae=this.props)||void 0===Ae?void 0:Ae.seoData)||void 0===ke?void 0:ke.manager)||void 0===Pe?void 0:Pe.global)||void 0===Te?void 0:Te.defaultTitle.length)||0} of 60 (recommended)`})),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"default-description",label:"Default Description",variant:"standard",placeholder:"",onChange:e=>{this.onGlobalChange(e.target.value,"defaultDescription")},value:null===(ze=null===(Fe=null===(Le=null===(Oe=this.props)||void 0===Oe?void 0:Oe.seoData)||void 0===Le?void 0:Le.manager)||void 0===Fe?void 0:Fe.global)||void 0===ze?void 0:ze.defaultDescription,style:{width:"100%"},multiline:!0,helperText:`${(null===($e=null===(Me=null===(Ue=null===(Re=this.props)||void 0===Re?void 0:Re.seoData)||void 0===Ue?void 0:Ue.manager)||void 0===Me?void 0:Me.global)||void 0===$e?void 0:$e.defaultDescription.length)||0} of 160 (recommended)`})),i.createElement(m,{item:!0,xs:12},i.createElement("div",{className:"form-floating mb-3"},i.createElement(ne,{files:(null===(We=null===(Ge=null===(Xe=null===(qe=null===(Be=this.props)||void 0===Be?void 0:Be.seoData)||void 0===qe?void 0:qe.manager)||void 0===Xe?void 0:Xe.global)||void 0===Ge?void 0:Ge.favicon)||void 0===We?void 0:We.fileId)?[null===(Ke=null===(Je=null===(Ve=null===(He=this.props)||void 0===He?void 0:He.seoData)||void 0===Ve?void 0:Ve.manager)||void 0===Je?void 0:Je.global)||void 0===Ke?void 0:Ke.favicon]:[{url:"",fileId:""}],onChangeComplete:e=>{const t=(null==e?void 0:e.url)?e:{url:"",fileId:""};this.onGlobalChange(t,"favicon")},multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/webp"}))),i.createElement(m,{item:!0,mb:1},i.createElement(h,{id:"navbar-color",label:"Pick a Navigation Theme Color",variant:"standard",type:"color",value:(null===(et=null===(Ze=null===(Qe=null===(Ye=this.props)||void 0===Ye?void 0:Ye.seoData)||void 0===Qe?void 0:Qe.manager)||void 0===Ze?void 0:Ze.global)||void 0===et?void 0:et.themeColor)||"#FFFFFF",style:{width:"100%"},onChange:e=>{this.onGlobalChange(e.target.value,"themeColor")}}))),i.createElement(se,{value:this.state.tabIndex,index:2},i.createElement(m,{container:!0},i.createElement(m,{item:!0,mb:1,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.createElement(p,{variant:"text",onClick:this.authSignOut,type:"button",className:"nextjs-seo-manager__button"},"Sign Out"))))),i.createElement(g,null,i.createElement("div",{className:"modal-footer",style:{width:"100%"}},i.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},i.createElement(p,{variant:"text",id:"close-seo-manager",onClick:this.props.onClose,type:"button",className:"nextjs-seo-manager__button"},"Close"),i.createElement(P,{variant:"text",onClick:this.saveData,type:"button",loading:this.state.saving,className:"nextjs-seo-manager__button"},"Save"))))))}}var ae=n((e=>({user:null==e?void 0:e.user,seoData:null==e?void 0:e.seoData})))(oe);function se(e){const{children:n,value:l,index:o}=e,a=t(e,["children","value","index"]);return i.createElement("div",Object.assign({role:"tabpanel",hidden:l!==o,id:`simple-tabpanel-${o}`,"aria-labelledby":`simple-tab-${o}`},a),l===o&&i.createElement(b,{sx:{p:3}},n))}function re(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}se.propTypes={children:l.node,index:l.number.isRequired,value:l.number.isRequired};export{ae as default};
