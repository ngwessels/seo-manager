import{a as t,_ as e}from"./default-3f3e9018.js";import s from"react";import{connect as r}from"react-redux";import{f as o}from"./firebase-f83deced.js";import{getAuth as a,onAuthStateChanged as i}from"firebase/auth";import"axios";import"firebase/app";const n=a(o);class p extends s.Component{constructor(s){super(s),t(this,"componentDidMount",(()=>{i(n,(async t=>{this.loadUser(t)})),n?.currentUser&&this.loadUser(n.currentUser)})),t(this,"loadUser",(async t=>{const s=["owner","admin","editor"];let r=e({},t);if(t){const e=await t.getIdTokenResult(!0);e?.claims?.[this.props?.seoData?.initial?.projectId]&&s.includes(e?.claims?.[this.props?.seoData?.initial?.projectId])?r.authorizedProject=!0:r.authorizedProject=!1}const o={type:"SET_USER",results:JSON.parse(JSON.stringify(r))};this.props.dispatch(o)})),this.state={}}render(){return null}}var c=r((t=>({user:t.user,seoData:t?.seoData})))(p);export{c as default};
