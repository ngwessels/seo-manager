import{a as s}from"./default-d10f742a.js";import t from"react";import{connect as e}from"react-redux";import{f as r}from"./firebase-f83deced.js";import{getAuth as o,onAuthStateChanged as a}from"firebase/auth";import"firebase/app";const i=o(r);class p extends t.Component{constructor(t){super(t),s(this,"componentDidMount",(()=>{a(i,(async s=>{this.loadUser(s)})),i?.currentUser&&this.loadUser(i.currentUser)})),s(this,"loadUser",(async s=>{if(console.log("USER:",s),s){const t=await s.getIdTokenResult(!0);console.log("CUSTOM CLAIMS:",t,this.props?.seoData?.initial?.projectId),t?.claims?.[this.props?.seoData?.initial?.projectId]&&permissionLevels.includes(t?.claims?.[this.props?.seoData?.initial?.projectId])?s.authorizedProject=!0:s.authorizedProject=!1}const t={type:"SET_USER",results:s};this.props.dispatch(t)})),this.state={}}render(){return null}}var c=e((s=>({user:s.user,seoData:s?.seoData})))(p);export{c as default};
